function _get(l,n,u){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(l,n,u){var e=_superPropBase(l,n);if(e){var t=Object.getOwnPropertyDescriptor(e,n);return t.get?t.get.call(u):t.value}})(l,n,u||l)}function _superPropBase(l,n){for(;!Object.prototype.hasOwnProperty.call(l,n)&&null!==(l=_getPrototypeOf(l)););return l}function _createSuper(l){return function(){var n,u=_getPrototypeOf(l);if(_isNativeReflectConstruct()){var e=_getPrototypeOf(this).constructor;n=Reflect.construct(u,arguments,e)}else n=u.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(l,n){return!n||"object"!=typeof n&&"function"!=typeof n?_assertThisInitialized(l):n}function _assertThisInitialized(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(l){return!1}}function _getPrototypeOf(l){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(l)}function _inherits(l,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),n&&_setPrototypeOf(l,n)}function _setPrototypeOf(l,n){return(_setPrototypeOf=Object.setPrototypeOf||function(l,n){return l.__proto__=n,l})(l,n)}function _defineProperties(l,n){for(var u=0;u<n.length;u++){var e=n[u];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}function _createClass(l,n,u){return n&&_defineProperties(l.prototype,n),u&&_defineProperties(l,u),l}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"n1/D":function(l,n,u){"use strict";u.r(n);var e,t,o=u("8Y7J"),i=function l(){_classCallCheck(this,l)},r=u("pMnS"),a=u("MKJQ"),b=u("sZkV"),s=u("iInd"),c=u("SVse"),p=u("eIep"),h=u("mrSG"),d=u("IheW"),g=u("HDdC"),f=u("7o/Q"),k=function(){function l(n,u){_classCallCheck(this,l),this.count=n,this.source=u}return _createClass(l,[{key:"call",value:function(l,n){return n.subscribe(new v(l,this.count,this.source))}}]),l}(),v=function(l){_inherits(u,l);var n=_createSuper(u);function u(l,e,t){var o;return _classCallCheck(this,u),(o=n.call(this,l)).count=e,o.source=t,o}return _createClass(u,[{key:"error",value:function(l){if(!this.isStopped){var n=this.source,e=this.count;if(0===e)return _get(_getPrototypeOf(u.prototype),"error",this).call(this,l);e>-1&&(this.count=e-1),n.subscribe(this._unsubscribeAndRecycle())}}}]),u}(f.a),m=u("JIr8"),y=((t=function(){function l(n,u,e,t,o){_classCallCheck(this,l),this.platformId=n,this.appId=u,this.httpClient=e,this.zone=t,this.toastController=o,this.serviceAdd="/"}return _createClass(l,[{key:"getRequestOptions",value:function(l){var n=new d.h;n.append("X-Requested-With","XMLHttpRequest"),n.append("Content-Type","application/json; charset=UTF-8"),n.append("Accept","application/json");var u={headers:n,withCredentials:!0};return l&&(u=Object.assign({params:l},u)),u}},{key:"get",value:function(l){var n=this,u=this.getRequestOptions(l.params);return this.httpClient.get("".concat(this.serviceAdd).concat(l.url),u).pipe(function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(n){return n.lift(new k(l,n))}}(3),Object(m.a)((function(l){return n.handleError(l)})))}},{key:"post",value:function(l){var n=this,u=this.getRequestOptions();return this.httpClient.post("".concat(this.serviceAdd).concat(l.url),l.form,u).pipe(Object(m.a)((function(l){return n.handleError(l)})))}},{key:"delete",value:function(l){var n=this,u=this.getRequestOptions();return this.httpClient.delete("".concat(this.serviceAdd).concat(l.url),u).pipe(Object(m.a)((function(l){return n.handleError(l)})))}},{key:"put",value:function(l){var n=this,u=this.getRequestOptions();return this.httpClient.put("".concat(this.serviceAdd).concat(l.url),l.form,u).pipe(Object(m.a)((function(l){return n.handleError(l)})))}},{key:"postImageFile",value:function(l){var n=this,u=new FormData;return u.append("blogBanner",l,l.name),this.httpClient.post("".concat(this.serviceAdd,"api/blogs/upload"),u).pipe(Object(m.a)((function(l){return n.handleError(l)})))}},{key:"handleError",value:function(l){var n=this;return l instanceof d.f&&this.zone.run((function(){return h.a(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.toastController.create({message:l.message,duration:3e3});case 2:n.sent.present();case 3:case"end":return n.stop()}}),n,this)})))})),l.error instanceof ErrorEvent?console.error("An error occurred:",l.error.message):console.log("Backend returned code ".concat(l.status,", ")+"body was: ".concat(JSON.stringify(l.error))),new g.a((function(l){return l.error("Something bad happened; please try again later.")}))}}]),l}()).ngInjectableDef=o.Mb({factory:function(){return new t(o.Nb(o.z),o.Nb(o.c),o.Nb(d.c),o.Nb(o.x),o.Nb(b.Ib))},token:t,providedIn:"root"}),t),C=((e=function(){function l(n){_classCallCheck(this,l),this.baseService=n}return _createClass(l,[{key:"getBookList",value:function(l){var n=(new d.i).set("page",l.page);return l.bookType&&(n=n.set("bookType",l.bookType)),l.tags&&(n=n.set("tags",l.tags)),l.pageNum&&(n=n.set("pageNum",l.pageNum)),l.bookNum&&(n=n.set("bookNum",l.bookNum)),this.baseService.get({url:"api/books",params:n})}},{key:"getBookById",value:function(l){return l?this.baseService.get({url:"api/books/".concat(l)}):new g.a}},{key:"getBookContentById",value:function(l){var n=(new d.i).set("page",l.page||1);return n=(n=n.set("id",l.id)).set("pageNum",l.pageNum||500),l.id?this.baseService.get({url:"api/books/".concat(l.id,"/content"),params:n}):new g.a}},{key:"createBook",value:function(l){return this.baseService.post({url:"api/books",form:l})}},{key:"updateBook",value:function(l,n){return this.baseService.put({url:"api/books/".concat(n),form:l})}},{key:"deleteBookById",value:function(l){return this.baseService.delete({url:"api/books/".concat(l)})}},{key:"postBannerFile",value:function(l){return this.baseService.postImageFile(l)}}]),l}()).ngInjectableDef=o.Mb({factory:function(){return new e(o.Nb(y))},token:e,providedIn:"root"}),e),x=function(){function l(n,u,e,t,o){_classCallCheck(this,l),this.bookService=n,this.titleService=u,this.metaService=e,this.route=t,this.router=o,this.currentPage=1}return _createClass(l,[{key:"ngOnInit",value:function(){var l=this;this.books$=this.route.paramMap.pipe(Object(p.a)((function(n){return l.listParam={page:n.get("page")||1,bookType:n.get("bookType"),tags:n.get("tags")},l.bookService.getBookList(l.listParam)}))),this.metaService.updateTag({name:"description",content:"\u521b\u65b0\u9a7f\u8def-\u63d0\u4f9b\u6700\u65b0\u521b\u65b0\u65b9\u6cd5\uff0c\u521b\u65b0\u4e8b\u52a1"}),this.metaService.updateTag({name:"keywords",content:"\u521b\u65b0\u65b9\u6cd5,\u521b\u65b0\u9a7f\u7ad9,\u521b\u65b0\u9a7f\u8def,\u521b\u65b0\u4e8b\u4ef6,\u521b\u65b0,\u521b\u65b0\u7684\u4e8b\u60c5,\u521b\u65b0\u65b9\u6cd5\u8bba"})}},{key:"loadData",value:function(l){this.currentPage+=1,this.bookService.getBookList(this.listParam).subscribe((function(n){l.target.complete()}))}}]),l}(),A=u("cUpR"),_=o.nb({encapsulation:0,styles:[["ion-card[_ngcontent-%COMP%]{width:30%;display:inline-block;margin:5px}"]],data:{}});function I(l){return o.Ib(0,[(l()(),o.pb(0,0,null,null,10,"ion-card",[],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==o.Ab(l,2).onClick()&&e),"click"===n&&(e=!1!==o.Ab(l,4).onClick(u)&&e),e}),a.R,a.e)),o.ob(1,49152,null,0,b.k,[o.h,o.k,o.x],null,null),o.ob(2,16384,null,0,s.n,[s.m,s.a,[8,null],o.B,o.k],{routerLink:[0,"routerLink"]},null),o.Bb(3,1),o.ob(4,737280,null,0,b.Fb,[c.h,b.Cb,o.k,s.m,[2,s.n]],null,null),(l()(),o.pb(5,0,null,0,0,"img",[["style","width: 100%"]],[[8,"src",4]],null,null,null,null)),(l()(),o.pb(6,0,null,0,4,"ion-card-header",[],null,null,null,a.P,a.f)),o.ob(7,49152,null,0,b.m,[o.h,o.k,o.x],null,null),(l()(),o.pb(8,0,null,0,2,"ion-card-subtitle",[],null,null,null,a.Q,a.g)),o.ob(9,49152,null,0,b.n,[o.h,o.k,o.x],null,null),(l()(),o.Gb(10,0,["",""]))],(function(l,n){var u=l(n,3,0,"/books/summary/"+n.context.$implicit._id);l(n,2,0,u),l(n,4,0)}),(function(l,n){l(n,5,0,n.context.$implicit.cover||"../../assets/book_default.jpg"),l(n,10,0,n.context.$implicit.name)}))}function B(l){return o.Ib(0,[(l()(),o.pb(0,0,null,null,12,"ion-header",[],null,null,null,a.Y,a.n)),o.ob(1,49152,null,0,b.z,[o.h,o.k,o.x],null,null),(l()(),o.pb(2,0,null,0,10,"ion-toolbar",[],null,null,null,a.vb,a.K)),o.ob(3,49152,null,0,b.xb,[o.h,o.k,o.x],null,null),(l()(),o.pb(4,0,null,0,8,"ion-title",[],null,null,null,a.ub,a.J)),o.ob(5,49152,null,0,b.vb,[o.h,o.k,o.x],null,null),(l()(),o.Gb(-1,0,["books "])),(l()(),o.pb(7,0,null,0,5,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==o.Ab(l,8).onClick(u)&&e),"click"===n&&(e=!1!==o.Ab(l,9).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e}),null,null)),o.ob(8,737280,null,0,b.Fb,[c.h,b.Cb,o.k,s.m,[2,s.n]],null,null),o.ob(9,671744,null,0,s.o,[s.m,s.a,c.h],{routerLink:[0,"routerLink"]},null),o.Bb(10,1),(l()(),o.pb(11,0,null,null,1,"ion-icon",[["name","add"]],null,null,null,a.Z,a.o)),o.ob(12,49152,null,0,b.A,[o.h,o.k,o.x],{name:[0,"name"]},null),(l()(),o.pb(13,0,null,null,10,"ion-content",[],null,null,null,a.T,a.i)),o.ob(14,49152,null,0,b.s,[o.h,o.k,o.x],null,null),(l()(),o.pb(15,0,null,0,4,"ion-list",[],null,null,null,a.gb,a.u)),o.ob(16,49152,null,0,b.M,[o.h,o.k,o.x],null,null),(l()(),o.eb(16777216,null,0,2,null,I)),o.ob(18,278528,null,0,c.i,[o.M,o.J,o.q],{ngForOf:[0,"ngForOf"]},null),o.Cb(131072,c.b,[o.h]),(l()(),o.pb(20,0,null,0,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],(function(l,n,u){var e=!0;return"ionInfinite"===n&&(e=!1!==l.component.loadData(u)&&e),e}),a.bb,a.p)),o.ob(21,49152,null,0,b.C,[o.h,o.k,o.x],{threshold:[0,"threshold"]},null),(l()(),o.pb(22,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","Loading more data..."]],null,null,null,a.ab,a.q)),o.ob(23,49152,null,0,b.D,[o.h,o.k,o.x],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],(function(l,n){var u=n.component;l(n,8,0);var e=l(n,10,0,"/books/new");l(n,9,0,e),l(n,12,0,"add"),l(n,18,0,o.Hb(n,18,0,o.Ab(n,19).transform(u.books$))),l(n,21,0,"100px"),l(n,23,0,"bubbles","Loading more data...")}),(function(l,n){l(n,7,0,o.Ab(n,9).target,o.Ab(n,9).href)}))}var S=o.lb("app-books",x,(function(l){return o.Ib(0,[(l()(),o.pb(0,0,null,null,1,"app-books",[],null,null,null,B,_)),o.ob(1,114688,null,0,x,[C,A.i,A.h,s.a,s.m],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),w=function(){function l(n,u,e,t,o,i){_classCallCheck(this,l),this.route=n,this.router=u,this.bookService=e,this.titleService=t,this.metaService=o,this.platformId=i}return _createClass(l,[{key:"ngOnInit",value:function(){this.getBookById()}},{key:"getBookById",value:function(){var l=this;this.book$=this.route.paramMap.pipe(Object(p.a)((function(n){return l.bookService.getBookById(n.get("id"))}))),this.book$.subscribe((function(n){l.titleService.setTitle(n.name),l.metaService.updateTag({name:"description",content:n.name});var u=l.metaService.getTag('name= "keywords"')&&l.metaService.getTag('name= "keywords"').content||"\u521b\u65b0\u65b9\u6cd5,\u521b\u65b0\u9a7f\u7ad9,\u521b\u65b0\u9a7f\u8def,\u521b\u65b0\u4e8b\u4ef6,\u521b\u65b0,\u521b\u65b0\u7684\u4e8b\u60c5,\u521b\u65b0\u65b9\u6cd5\u8bba,";u+=n.tags.join(","),l.metaService.updateTag({name:"keywords",content:u})}))}}]),l}(),P=o.nb({encapsulation:0,styles:[[""]],data:{}});function T(l){return o.Ib(0,[(l()(),o.pb(0,0,null,null,9,"ion-toolbar",[],null,null,null,a.vb,a.K)),o.ob(1,49152,null,0,b.xb,[o.h,o.k,o.x],null,null),(l()(),o.pb(2,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,a.O,a.d)),o.ob(3,49152,null,0,b.j,[o.h,o.k,o.x],null,null),(l()(),o.pb(4,0,null,0,2,"ion-back-button",[["defaultHref","home"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==o.Ab(l,6).onClick(u)&&e),e}),a.M,a.b)),o.ob(5,49152,null,0,b.e,[o.h,o.k,o.x],{defaultHref:[0,"defaultHref"]},null),o.ob(6,16384,null,0,b.f,[[2,b.db],b.Cb],{defaultHref:[0,"defaultHref"]},null),(l()(),o.pb(7,0,null,0,2,"ion-title",[],null,null,null,a.ub,a.J)),o.ob(8,49152,null,0,b.vb,[o.h,o.k,o.x],null,null),(l()(),o.Gb(9,0,["",""]))],(function(l,n){l(n,5,0,"home"),l(n,6,0,"home")}),(function(l,n){l(n,9,0,n.context.ngIf.name)}))}function D(l){return o.Ib(0,[(l()(),o.pb(0,0,null,null,34,"ion-grid",[],null,null,null,a.X,a.m)),o.ob(1,49152,null,0,b.y,[o.h,o.k,o.x],null,null),(l()(),o.pb(2,0,null,0,23,"ion-row",[],null,null,null,a.nb,a.C)),o.ob(3,49152,null,0,b.eb,[o.h,o.k,o.x],null,null),(l()(),o.pb(4,0,null,0,21,"ion-col",[],null,null,null,a.S,a.h)),o.ob(5,49152,null,0,b.r,[o.h,o.k,o.x],null,null),(l()(),o.pb(6,0,null,0,19,"ion-item",[],null,null,null,a.db,a.s)),o.ob(7,49152,null,0,b.F,[o.h,o.k,o.x],null,null),(l()(),o.pb(8,0,null,0,2,"ion-thumbnail",[["slot","start"]],null,null,null,a.tb,a.I)),o.ob(9,49152,null,0,b.ub,[o.h,o.k,o.x],null,null),(l()(),o.pb(10,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),o.pb(11,0,null,0,14,"ion-label",[],null,null,null,a.eb,a.t)),o.ob(12,49152,null,0,b.L,[o.h,o.k,o.x],null,null),(l()(),o.pb(13,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),o.Gb(14,null,["",""])),(l()(),o.pb(15,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),o.Gb(16,null,["\u4f5c\u8005: ",""])),(l()(),o.pb(17,0,null,0,8,"p",[],null,null,null,null,null)),(l()(),o.pb(18,0,null,null,7,"ion-button",[],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==o.Ab(l,20).onClick()&&e),"click"===n&&(e=!1!==o.Ab(l,22).onClick(u)&&e),e}),a.N,a.c)),o.ob(19,49152,null,0,b.i,[o.h,o.k,o.x],null,null),o.ob(20,16384,null,0,s.n,[s.m,s.a,[8,null],o.B,o.k],{routerLink:[0,"routerLink"]},null),o.Bb(21,1),o.ob(22,737280,null,0,b.Fb,[c.h,b.Cb,o.k,s.m,[2,s.n]],null,null),(l()(),o.pb(23,0,null,0,1,"ion-icon",[["name","eye-outline"]],null,null,null,a.Z,a.o)),o.ob(24,49152,null,0,b.A,[o.h,o.k,o.x],{name:[0,"name"]},null),(l()(),o.Gb(-1,0,["\u9605\u8bfb "])),(l()(),o.pb(26,0,null,0,8,"ion-row",[],null,null,null,a.nb,a.C)),o.ob(27,49152,null,0,b.eb,[o.h,o.k,o.x],null,null),(l()(),o.pb(28,0,null,0,6,"ion-col",[],null,null,null,a.S,a.h)),o.ob(29,49152,null,0,b.r,[o.h,o.k,o.x],null,null),(l()(),o.pb(30,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),o.Gb(-1,null,[" \u6458\u8981 | \u8bc4\u8bba "])),(l()(),o.pb(32,0,null,0,2,"ion-text",[],null,null,null,a.rb,a.G)),o.ob(33,49152,null,0,b.sb,[o.h,o.k,o.x],null,null),(l()(),o.Gb(34,0,[" "," "]))],(function(l,n){var u=l(n,21,0,"/books/"+n.context.ngIf._id);l(n,20,0,u),l(n,22,0),l(n,24,0,"eye-outline")}),(function(l,n){l(n,10,0,n.context.ngIf.cover||"../../../assets/book_default.jpg"),l(n,14,0,n.context.ngIf.name),l(n,16,0,n.context.ngIf.author),l(n,34,0,n.context.ngIf.abstract)}))}function O(l){return o.Ib(0,[(l()(),o.pb(0,0,null,null,4,"ion-header",[],null,null,null,a.Y,a.n)),o.ob(1,49152,null,0,b.z,[o.h,o.k,o.x],null,null),(l()(),o.eb(16777216,null,0,2,null,T)),o.ob(3,16384,null,0,c.j,[o.M,o.J],{ngIf:[0,"ngIf"]},null),o.Cb(131072,c.b,[o.h]),(l()(),o.pb(5,0,null,null,4,"ion-content",[],null,null,null,a.T,a.i)),o.ob(6,49152,null,0,b.s,[o.h,o.k,o.x],null,null),(l()(),o.eb(16777216,null,0,2,null,D)),o.ob(8,16384,null,0,c.j,[o.M,o.J],{ngIf:[0,"ngIf"]},null),o.Cb(131072,c.b,[o.h])],(function(l,n){var u=n.component;l(n,3,0,o.Hb(n,3,0,o.Ab(n,4).transform(u.book$))),l(n,8,0,o.Hb(n,8,0,o.Ab(n,9).transform(u.book$)))}),null)}var j=o.lb("app-books-summary",w,(function(l){return o.Ib(0,[(l()(),o.pb(0,0,null,null,1,"app-books-summary",[],null,null,null,O,P)),o.ob(1,114688,null,0,w,[s.a,s.m,C,A.i,A.h,o.z],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),F=u("s7LF"),E=u("LRne"),G=function(){function l(n,u,e,t){_classCallCheck(this,l),this.fb=n,this.bookService=u,this.router=e,this.route=t,this.uploadFile="",this.bookForm=this.fb.group({_id:[""],name:["",F.m.required],content:["",F.m.required],bookType:["",F.m.required],tags:[[]],cover:[""],showTime:[new Date,F.m.required],author:[""],abstract:["",F.m.required]}),this.validateFlag=!1}return _createClass(l,[{key:"ngOnInit",value:function(){this.getBookById()}},{key:"onSubmit",value:function(){var l=this;this.bookForm.value._id&&""!=this.bookForm.value._id?this.bookService.updateBook(this.bookForm.value,this.bookForm.value._id).subscribe((function(n){l.validateFlag=!0,l.router.navigate(["/books/".concat(n._id)])})):(delete this.bookForm.value._id,this.bookService.createBook(this.bookForm.value).subscribe((function(n){l.validateFlag=!0,l.router.navigate(["/books/".concat(n._id)])})))}},{key:"handleFileInput",value:function(l){var n=this;this.bookService.postBannerFile(l.item(0)).subscribe((function(l){if(l.filename)if(confirm("\u9700\u8981\u66ff\u4ee3\u5c55\u793a\u56fe\u7247\u5417\uff1f"))n.bookForm.patchValue({bannerUrl:"/".concat(l.filename)});else{var u=document.createElement("textarea");u.style.position="fixed",u.style.left="0",u.style.top="0",u.style.opacity="0",u.value=l.filename,document.body.appendChild(u),u.focus(),u.select(),document.execCommand("copy"),document.body.removeChild(u),alert("\u56fe\u7247\u4e0a\u4f20\u5730\u5740\u4e3a\uff1a/".concat(l.filename,", \u5df2\u590d\u5236\u5230\u7c98\u8d34\u677f"))}else alert("\u683c\u5f0f\u4e0d\u6b63\u786e\u6216\u670d\u52a1\u5668\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5")}))}},{key:"getBookById",value:function(){var l=this,n=this.route.snapshot.paramMap.get("id");n&&this.bookService.getBookById(n).subscribe((function(n){l.bookForm.patchValue({_id:n._id,name:n.name,content:n.content,bookType:n.bookType,tags:n.tags,cover:n.cover,showTime:n.showTime,author:n.author,abstract:n.abstract})}))}},{key:"goback",value:function(){}},{key:"fileUpload",value:function(l){var n=this,u=new FileReader,e=new Blob(l,{type:"text/plain"});u.onload=function(){n.bookForm.patchValue({content:this.result})},u.readAsText(e,"GB2312")}},{key:"canDeactivate",value:function(){if(!this.bookForm.dirty||this.validateFlag)return!0;var l=window.confirm("\u60a8\u7684\u6570\u636e\u8fd8\u672a\u4fdd\u5b58\uff0c\u662f\u5426\u53d6\u6d88\u4fdd\u5b58?");return Object(E.a)(l)}}]),l}(),q=o.nb({encapsulation:0,styles:[[""]],data:{}});function N(l){return o.Ib(0,[(l()(),o.pb(0,0,null,null,6,"ion-header",[],null,null,null,a.Y,a.n)),o.ob(1,49152,null,0,b.z,[o.h,o.k,o.x],null,null),(l()(),o.pb(2,0,null,0,4,"ion-toolbar",[],null,null,null,a.vb,a.K)),o.ob(3,49152,null,0,b.xb,[o.h,o.k,o.x],null,null),(l()(),o.pb(4,0,null,0,2,"ion-title",[],null,null,null,a.ub,a.J)),o.ob(5,49152,null,0,b.vb,[o.h,o.k,o.x],null,null),(l()(),o.Gb(-1,0,["New Book"])),(l()(),o.pb(7,0,null,null,157,"ion-content",[],null,null,null,a.T,a.i)),o.ob(8,49152,null,0,b.s,[o.h,o.k,o.x],null,null),(l()(),o.pb(9,0,null,0,149,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var e=!0;return"submit"===n&&(e=!1!==o.Ab(l,11).onSubmit(u)&&e),"reset"===n&&(e=!1!==o.Ab(l,11).onReset()&&e),e}),null,null)),o.ob(10,16384,null,0,F.q,[],null,null),o.ob(11,540672,null,0,F.d,[[8,null],[8,null]],{form:[0,"form"]},null),o.Db(2048,null,F.a,null,[F.d]),o.ob(13,16384,null,0,F.j,[[4,F.a]],null,null),(l()(),o.pb(14,0,null,null,13,"ion-item",[],null,null,null,a.db,a.s)),o.ob(15,49152,null,0,b.F,[o.h,o.k,o.x],null,null),(l()(),o.pb(16,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,a.eb,a.t)),o.ob(17,49152,null,0,b.L,[o.h,o.k,o.x],{position:[0,"position"]},null),(l()(),o.Gb(-1,0,["\u8f93\u5165\u4e66\u7c4d\u540d\u79f0*"])),(l()(),o.pb(19,0,null,0,8,"ion-input",[["formControlName","name"],["required","true"],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==o.Ab(l,22)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==o.Ab(l,22)._handleInputEvent(u.target)&&e),e}),a.cb,a.r)),o.ob(20,16384,null,0,F.l,[],{required:[0,"required"]},null),o.Db(1024,null,F.f,(function(l){return[l]}),[F.l]),o.ob(22,16384,null,0,b.Hb,[o.k],null,null),o.Db(1024,null,F.g,(function(l){return[l]}),[b.Hb]),o.ob(24,671744,null,0,F.c,[[3,F.a],[6,F.f],[8,null],[6,F.g],[2,F.p]],{name:[0,"name"]},null),o.Db(2048,null,F.h,null,[F.c]),o.ob(26,16384,null,0,F.i,[[4,F.h]],null,null),o.ob(27,49152,null,0,b.E,[o.h,o.k,o.x],{required:[0,"required"],type:[1,"type"]},null),(l()(),o.pb(28,0,null,null,29,"ion-row",[],null,null,null,a.nb,a.C)),o.ob(29,49152,null,0,b.eb,[o.h,o.k,o.x],null,null),(l()(),o.pb(30,0,null,0,13,"ion-col",[["size","6"]],null,null,null,a.S,a.h)),o.ob(31,49152,null,0,b.r,[o.h,o.k,o.x],{size:[0,"size"]},null),(l()(),o.pb(32,0,null,0,11,"ion-item",[],null,null,null,a.db,a.s)),o.ob(33,49152,null,0,b.F,[o.h,o.k,o.x],null,null),(l()(),o.pb(34,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,a.eb,a.t)),o.ob(35,49152,null,0,b.L,[o.h,o.k,o.x],{position:[0,"position"]},null),(l()(),o.Gb(-1,0,["\u8f93\u5165\u4e66\u7c4d\u4f5c\u8005"])),(l()(),o.pb(37,0,null,0,6,"ion-input",[["formControlName","author"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==o.Ab(l,38)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==o.Ab(l,38)._handleInputEvent(u.target)&&e),e}),a.cb,a.r)),o.ob(38,16384,null,0,b.Hb,[o.k],null,null),o.Db(1024,null,F.g,(function(l){return[l]}),[b.Hb]),o.ob(40,671744,null,0,F.c,[[3,F.a],[8,null],[8,null],[6,F.g],[2,F.p]],{name:[0,"name"]},null),o.Db(2048,null,F.h,null,[F.c]),o.ob(42,16384,null,0,F.i,[[4,F.h]],null,null),o.ob(43,49152,null,0,b.E,[o.h,o.k,o.x],{type:[0,"type"]},null),(l()(),o.pb(44,0,null,0,13,"ion-col",[["size","6"]],null,null,null,a.S,a.h)),o.ob(45,49152,null,0,b.r,[o.h,o.k,o.x],{size:[0,"size"]},null),(l()(),o.pb(46,0,null,0,11,"ion-item",[],null,null,null,a.db,a.s)),o.ob(47,49152,null,0,b.F,[o.h,o.k,o.x],null,null),(l()(),o.pb(48,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,a.eb,a.t)),o.ob(49,49152,null,0,b.L,[o.h,o.k,o.x],{position:[0,"position"]},null),(l()(),o.Gb(-1,0,["\u8f93\u5165\u5c55\u793a\u65f6\u95f4"])),(l()(),o.pb(51,0,null,0,6,"ion-datetime",[["displayFormat","MM/DD/YYYY"],["formControlName","showTime"],["max","2212-12-09"],["min","2020-01-14"],["value","2020-02-23"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==o.Ab(l,52)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==o.Ab(l,52)._handleChangeEvent(u.target)&&e),e}),a.U,a.j)),o.ob(52,16384,null,0,b.Gb,[o.k],null,null),o.Db(1024,null,F.g,(function(l){return[l]}),[b.Gb]),o.ob(54,671744,null,0,F.c,[[3,F.a],[8,null],[8,null],[6,F.g],[2,F.p]],{name:[0,"name"]},null),o.Db(2048,null,F.h,null,[F.c]),o.ob(56,16384,null,0,F.i,[[4,F.h]],null,null),o.ob(57,49152,null,0,b.t,[o.h,o.k,o.x],{displayFormat:[0,"displayFormat"],max:[1,"max"],min:[2,"min"],value:[3,"value"]},null),(l()(),o.pb(58,0,null,null,13,"ion-item",[],null,null,null,a.db,a.s)),o.ob(59,49152,null,0,b.F,[o.h,o.k,o.x],null,null),(l()(),o.pb(60,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,a.eb,a.t)),o.ob(61,49152,null,0,b.L,[o.h,o.k,o.x],{position:[0,"position"]},null),(l()(),o.Gb(-1,0,["\u8f93\u5165\u4e66\u7c4d\u4ecb\u7ecd*"])),(l()(),o.pb(63,0,null,0,8,"ion-textarea",[["formControlName","abstract"],["required","true"],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==o.Ab(l,66)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==o.Ab(l,66)._handleInputEvent(u.target)&&e),e}),a.sb,a.H)),o.ob(64,16384,null,0,F.l,[],{required:[0,"required"]},null),o.Db(1024,null,F.f,(function(l){return[l]}),[F.l]),o.ob(66,16384,null,0,b.Hb,[o.k],null,null),o.Db(1024,null,F.g,(function(l){return[l]}),[b.Hb]),o.ob(68,671744,null,0,F.c,[[3,F.a],[6,F.f],[8,null],[6,F.g],[2,F.p]],{name:[0,"name"]},null),o.Db(2048,null,F.h,null,[F.c]),o.ob(70,16384,null,0,F.i,[[4,F.h]],null,null),o.ob(71,49152,null,0,b.tb,[o.h,o.k,o.x],{required:[0,"required"]},null),(l()(),o.pb(72,0,null,null,53,"ion-row",[],null,null,null,a.nb,a.C)),o.ob(73,49152,null,0,b.eb,[o.h,o.k,o.x],null,null),(l()(),o.pb(74,0,null,0,25,"ion-col",[["size","6"]],null,null,null,a.S,a.h)),o.ob(75,49152,null,0,b.r,[o.h,o.k,o.x],{size:[0,"size"]},null),(l()(),o.pb(76,0,null,0,23,"ion-item",[],null,null,null,a.db,a.s)),o.ob(77,49152,null,0,b.F,[o.h,o.k,o.x],null,null),(l()(),o.pb(78,0,null,0,2,"ion-label",[],null,null,null,a.eb,a.t)),o.ob(79,49152,null,0,b.L,[o.h,o.k,o.x],null,null),(l()(),o.Gb(-1,0,["\u8bf7\u9009\u62e9\u4e66\u7c4d\u7c7b\u578b*"])),(l()(),o.pb(81,0,null,0,18,"ion-select",[["formControlName","bookType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==o.Ab(l,82)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==o.Ab(l,82)._handleChangeEvent(u.target)&&e),e}),a.pb,a.D)),o.ob(82,16384,null,0,b.Gb,[o.k],null,null),o.Db(1024,null,F.g,(function(l){return[l]}),[b.Gb]),o.ob(84,671744,null,0,F.c,[[3,F.a],[8,null],[8,null],[6,F.g],[2,F.p]],{name:[0,"name"]},null),o.Db(2048,null,F.h,null,[F.c]),o.ob(86,16384,null,0,F.i,[[4,F.h]],null,null),o.ob(87,49152,null,0,b.ib,[o.h,o.k,o.x],null,null),(l()(),o.pb(88,0,null,0,2,"ion-select-option",[["value","bird"]],null,null,null,a.ob,a.E)),o.ob(89,49152,null,0,b.jb,[o.h,o.k,o.x],{value:[0,"value"]},null),(l()(),o.Gb(-1,0,["Bird"])),(l()(),o.pb(91,0,null,0,2,"ion-select-option",[["value","cat"]],null,null,null,a.ob,a.E)),o.ob(92,49152,null,0,b.jb,[o.h,o.k,o.x],{value:[0,"value"]},null),(l()(),o.Gb(-1,0,["Cat"])),(l()(),o.pb(94,0,null,0,2,"ion-select-option",[["value","dog"]],null,null,null,a.ob,a.E)),o.ob(95,49152,null,0,b.jb,[o.h,o.k,o.x],{value:[0,"value"]},null),(l()(),o.Gb(-1,0,["Dog"])),(l()(),o.pb(97,0,null,0,2,"ion-select-option",[["value","honeybadger"]],null,null,null,a.ob,a.E)),o.ob(98,49152,null,0,b.jb,[o.h,o.k,o.x],{value:[0,"value"]},null),(l()(),o.Gb(-1,0,["Honey Badger"])),(l()(),o.pb(100,0,null,0,25,"ion-col",[["size","6"]],null,null,null,a.S,a.h)),o.ob(101,49152,null,0,b.r,[o.h,o.k,o.x],{size:[0,"size"]},null),(l()(),o.pb(102,0,null,0,23,"ion-item",[],null,null,null,a.db,a.s)),o.ob(103,49152,null,0,b.F,[o.h,o.k,o.x],null,null),(l()(),o.pb(104,0,null,0,2,"ion-label",[],null,null,null,a.eb,a.t)),o.ob(105,49152,null,0,b.L,[o.h,o.k,o.x],null,null),(l()(),o.Gb(-1,0,["\u8bf7\u9009\u62e9\u4e66\u7c4d\u7684\u6807\u7b7e"])),(l()(),o.pb(107,0,null,0,18,"ion-select",[["formControlName","tags"],["multiple","true"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==o.Ab(l,108)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==o.Ab(l,108)._handleChangeEvent(u.target)&&e),e}),a.pb,a.D)),o.ob(108,16384,null,0,b.Gb,[o.k],null,null),o.Db(1024,null,F.g,(function(l){return[l]}),[b.Gb]),o.ob(110,671744,null,0,F.c,[[3,F.a],[8,null],[8,null],[6,F.g],[2,F.p]],{name:[0,"name"]},null),o.Db(2048,null,F.h,null,[F.c]),o.ob(112,16384,null,0,F.i,[[4,F.h]],null,null),o.ob(113,49152,null,0,b.ib,[o.h,o.k,o.x],{multiple:[0,"multiple"]},null),(l()(),o.pb(114,0,null,0,2,"ion-select-option",[["value","bird"]],null,null,null,a.ob,a.E)),o.ob(115,49152,null,0,b.jb,[o.h,o.k,o.x],{value:[0,"value"]},null),(l()(),o.Gb(-1,0,["Bird"])),(l()(),o.pb(117,0,null,0,2,"ion-select-option",[["value","cat"]],null,null,null,a.ob,a.E)),o.ob(118,49152,null,0,b.jb,[o.h,o.k,o.x],{value:[0,"value"]},null),(l()(),o.Gb(-1,0,["Cat"])),(l()(),o.pb(120,0,null,0,2,"ion-select-option",[["value","dog"]],null,null,null,a.ob,a.E)),o.ob(121,49152,null,0,b.jb,[o.h,o.k,o.x],{value:[0,"value"]},null),(l()(),o.Gb(-1,0,["Dog"])),(l()(),o.pb(123,0,null,0,2,"ion-select-option",[["value","honeybadger"]],null,null,null,a.ob,a.E)),o.ob(124,49152,null,0,b.jb,[o.h,o.k,o.x],{value:[0,"value"]},null),(l()(),o.Gb(-1,0,["Honey Badger"])),(l()(),o.pb(126,0,null,null,11,"ion-item",[],null,null,null,a.db,a.s)),o.ob(127,49152,null,0,b.F,[o.h,o.k,o.x],null,null),(l()(),o.pb(128,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,a.eb,a.t)),o.ob(129,49152,null,0,b.L,[o.h,o.k,o.x],{position:[0,"position"]},null),(l()(),o.Gb(-1,0,["\u8f93\u5165\u4e66\u7c4d\u5c01\u9762\u5730\u5740"])),(l()(),o.pb(131,0,null,0,6,"ion-input",[["formControlName","cover"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==o.Ab(l,132)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==o.Ab(l,132)._handleInputEvent(u.target)&&e),e}),a.cb,a.r)),o.ob(132,16384,null,0,b.Hb,[o.k],null,null),o.Db(1024,null,F.g,(function(l){return[l]}),[b.Hb]),o.ob(134,671744,null,0,F.c,[[3,F.a],[8,null],[8,null],[6,F.g],[2,F.p]],{name:[0,"name"]},null),o.Db(2048,null,F.h,null,[F.c]),o.ob(136,16384,null,0,F.i,[[4,F.h]],null,null),o.ob(137,49152,null,0,b.E,[o.h,o.k,o.x],{type:[0,"type"]},null),(l()(),o.pb(138,0,null,null,13,"ion-item",[],null,null,null,a.db,a.s)),o.ob(139,49152,null,0,b.F,[o.h,o.k,o.x],null,null),(l()(),o.pb(140,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,a.eb,a.t)),o.ob(141,49152,null,0,b.L,[o.h,o.k,o.x],{position:[0,"position"]},null),(l()(),o.Gb(-1,0,["\u8f93\u5165\u4e66\u7c4d\u5185\u5bb9*"])),(l()(),o.pb(143,0,null,0,8,"ion-textarea",[["formControlName","content"],["required","true"],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==o.Ab(l,146)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==o.Ab(l,146)._handleInputEvent(u.target)&&e),e}),a.sb,a.H)),o.ob(144,16384,null,0,F.l,[],{required:[0,"required"]},null),o.Db(1024,null,F.f,(function(l){return[l]}),[F.l]),o.ob(146,16384,null,0,b.Hb,[o.k],null,null),o.Db(1024,null,F.g,(function(l){return[l]}),[b.Hb]),o.ob(148,671744,null,0,F.c,[[3,F.a],[6,F.f],[8,null],[6,F.g],[2,F.p]],{name:[0,"name"]},null),o.Db(2048,null,F.h,null,[F.c]),o.ob(150,16384,null,0,F.i,[[4,F.h]],null,null),o.ob(151,49152,null,0,b.tb,[o.h,o.k,o.x],{required:[0,"required"]},null),(l()(),o.pb(152,0,null,null,6,"ion-grid",[],null,null,null,a.X,a.m)),o.ob(153,49152,null,0,b.y,[o.h,o.k,o.x],null,null),(l()(),o.pb(154,0,null,0,4,"ion-row",[],null,null,null,a.nb,a.C)),o.ob(155,49152,null,0,b.eb,[o.h,o.k,o.x],null,null),(l()(),o.pb(156,0,null,0,2,"ion-button",[["color","tertiary"],["expand","block"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.onSubmit()&&e),e}),a.N,a.c)),o.ob(157,49152,null,0,b.i,[o.h,o.k,o.x],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"]},null),(l()(),o.Gb(-1,0,["\u63d0\u4ea4"])),(l()(),o.pb(159,0,null,0,5,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,a.W,a.k)),o.ob(160,49152,null,0,b.u,[o.h,o.k,o.x],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(l()(),o.pb(161,0,null,0,3,"ion-fab-button",[],null,null,null,a.V,a.l)),o.ob(162,49152,null,0,b.v,[o.h,o.k,o.x],null,null),(l()(),o.pb(163,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,a.Z,a.o)),o.ob(164,49152,null,0,b.A,[o.h,o.k,o.x],{name:[0,"name"]},null),(l()(),o.pb(165,0,null,null,1,"button",[["style","right:60px; bottom:60px;position: fixed; z-index: 9999"]],null,null,null,null,null)),(l()(),o.pb(166,0,null,null,0,"input",[["id","form_file"],["style","position: absolute;left: 0;top: 0;width: 56px;height: 56px;opacity: 0"],["type","file"]],null,[[null,"change"]],(function(l,n,u){var e=!0;return"change"===n&&(e=!1!==l.component.fileUpload(u.target.files)&&e),e}),null,null))],(function(l,n){var u=n.component;l(n,11,0,u.bookForm),l(n,17,0,"floating"),l(n,20,0,"true"),l(n,24,0,"name"),l(n,27,0,"true","text"),l(n,31,0,"6"),l(n,35,0,"floating"),l(n,40,0,"author"),l(n,43,0,"text"),l(n,45,0,"6"),l(n,49,0,"floating"),l(n,54,0,"showTime"),l(n,57,0,"MM/DD/YYYY","2212-12-09","2020-01-14","2020-02-23"),l(n,61,0,"floating"),l(n,64,0,"true"),l(n,68,0,"abstract"),l(n,71,0,"true"),l(n,75,0,"6"),l(n,84,0,"bookType"),l(n,89,0,"bird"),l(n,92,0,"cat"),l(n,95,0,"dog"),l(n,98,0,"honeybadger"),l(n,101,0,"6"),l(n,110,0,"tags"),l(n,113,0,"true"),l(n,115,0,"bird"),l(n,118,0,"cat"),l(n,121,0,"dog"),l(n,124,0,"honeybadger"),l(n,129,0,"floating"),l(n,134,0,"cover"),l(n,137,0,"text"),l(n,141,0,"floating"),l(n,144,0,"true"),l(n,148,0,"content"),l(n,151,0,"true"),l(n,157,0,"tertiary",!u.bookForm.valid,"block"),l(n,160,0,"end","bottom"),l(n,164,0,"add")}),(function(l,n){l(n,9,0,o.Ab(n,13).ngClassUntouched,o.Ab(n,13).ngClassTouched,o.Ab(n,13).ngClassPristine,o.Ab(n,13).ngClassDirty,o.Ab(n,13).ngClassValid,o.Ab(n,13).ngClassInvalid,o.Ab(n,13).ngClassPending),l(n,19,0,o.Ab(n,20).required?"":null,o.Ab(n,26).ngClassUntouched,o.Ab(n,26).ngClassTouched,o.Ab(n,26).ngClassPristine,o.Ab(n,26).ngClassDirty,o.Ab(n,26).ngClassValid,o.Ab(n,26).ngClassInvalid,o.Ab(n,26).ngClassPending),l(n,37,0,o.Ab(n,42).ngClassUntouched,o.Ab(n,42).ngClassTouched,o.Ab(n,42).ngClassPristine,o.Ab(n,42).ngClassDirty,o.Ab(n,42).ngClassValid,o.Ab(n,42).ngClassInvalid,o.Ab(n,42).ngClassPending),l(n,51,0,o.Ab(n,56).ngClassUntouched,o.Ab(n,56).ngClassTouched,o.Ab(n,56).ngClassPristine,o.Ab(n,56).ngClassDirty,o.Ab(n,56).ngClassValid,o.Ab(n,56).ngClassInvalid,o.Ab(n,56).ngClassPending),l(n,63,0,o.Ab(n,64).required?"":null,o.Ab(n,70).ngClassUntouched,o.Ab(n,70).ngClassTouched,o.Ab(n,70).ngClassPristine,o.Ab(n,70).ngClassDirty,o.Ab(n,70).ngClassValid,o.Ab(n,70).ngClassInvalid,o.Ab(n,70).ngClassPending),l(n,81,0,o.Ab(n,86).ngClassUntouched,o.Ab(n,86).ngClassTouched,o.Ab(n,86).ngClassPristine,o.Ab(n,86).ngClassDirty,o.Ab(n,86).ngClassValid,o.Ab(n,86).ngClassInvalid,o.Ab(n,86).ngClassPending),l(n,107,0,o.Ab(n,112).ngClassUntouched,o.Ab(n,112).ngClassTouched,o.Ab(n,112).ngClassPristine,o.Ab(n,112).ngClassDirty,o.Ab(n,112).ngClassValid,o.Ab(n,112).ngClassInvalid,o.Ab(n,112).ngClassPending),l(n,131,0,o.Ab(n,136).ngClassUntouched,o.Ab(n,136).ngClassTouched,o.Ab(n,136).ngClassPristine,o.Ab(n,136).ngClassDirty,o.Ab(n,136).ngClassValid,o.Ab(n,136).ngClassInvalid,o.Ab(n,136).ngClassPending),l(n,143,0,o.Ab(n,144).required?"":null,o.Ab(n,150).ngClassUntouched,o.Ab(n,150).ngClassTouched,o.Ab(n,150).ngClassPristine,o.Ab(n,150).ngClassDirty,o.Ab(n,150).ngClassValid,o.Ab(n,150).ngClassInvalid,o.Ab(n,150).ngClassPending)}))}var z=o.lb("app-books-form",G,(function(l){return o.Ib(0,[(l()(),o.pb(0,0,null,null,1,"app-books-form",[],null,null,null,N,q)),o.ob(1,114688,null,0,G,[F.b,C,s.m,s.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),R=function(){function l(n,u,e,t,o,i){_classCallCheck(this,l),this.route=n,this.router=u,this.bookService=e,this.titleService=t,this.metaService=o,this.platformId=i,this.currentPage=1,this.blogId=""}return _createClass(l,[{key:"ngOnInit",value:function(){this.blogId=this.route.snapshot.params.id,this.getBookById()}},{key:"getBookById",value:function(){var l=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.bookService.getBookContentById({id:this.blogId,page:this.currentPage}).subscribe((function(u){l.book=u,l.titleService.setTitle(u.name),l.metaService.updateTag({name:"description",content:u.name});var e=l.metaService.getTag('name= "keywords"')&&l.metaService.getTag('name= "keywords"').content||"\u521b\u65b0\u65b9\u6cd5,\u521b\u65b0\u9a7f\u7ad9,\u521b\u65b0\u9a7f\u8def,\u521b\u65b0\u4e8b\u4ef6,\u521b\u65b0,\u521b\u65b0\u7684\u4e8b\u60c5,\u521b\u65b0\u65b9\u6cd5\u8bba,";e+=u.tags.join(","),l.metaService.updateTag({name:"keywords",content:e}),n()}))}},{key:"getPrePage",value:function(l){this.currentPage--,this.getBookById((function(){l.target.complete()}))}},{key:"getNextPage",value:function(l){this.currentPage++,this.getBookById((function(){l.target.complete(),document.querySelector("ion-content").scrollToTop(500)}))}}]),l}(),H=o.nb({encapsulation:0,styles:[["ion-grid[_ngcontent-%COMP%]{padding-bottom:30px}"]],data:{}});function L(l){return o.Ib(0,[(l()(),o.pb(0,0,null,null,8,"ion-grid",[],null,null,null,a.X,a.m)),o.ob(1,49152,null,0,b.y,[o.h,o.k,o.x],null,null),(l()(),o.pb(2,0,null,0,6,"ion-row",[],null,null,null,a.nb,a.C)),o.ob(3,49152,null,0,b.eb,[o.h,o.k,o.x],null,null),(l()(),o.pb(4,0,null,0,4,"ion-col",[],null,null,null,a.S,a.h)),o.ob(5,49152,null,0,b.r,[o.h,o.k,o.x],null,null),(l()(),o.pb(6,0,null,0,2,"ion-text",[],null,null,null,a.rb,a.G)),o.ob(7,49152,null,0,b.sb,[o.h,o.k,o.x],null,null),(l()(),o.Gb(8,0,[" "," "]))],null,(function(l,n){var u=n.component;l(n,8,0,u.book&&u.book.content)}))}function M(l){return o.Ib(0,[(l()(),o.pb(0,0,null,null,11,"ion-header",[],null,null,null,a.Y,a.n)),o.ob(1,49152,null,0,b.z,[o.h,o.k,o.x],null,null),(l()(),o.pb(2,0,null,0,9,"ion-toolbar",[],null,null,null,a.vb,a.K)),o.ob(3,49152,null,0,b.xb,[o.h,o.k,o.x],null,null),(l()(),o.pb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,a.O,a.d)),o.ob(5,49152,null,0,b.j,[o.h,o.k,o.x],null,null),(l()(),o.pb(6,0,null,0,2,"ion-back-button",[["defaultHref","home"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==o.Ab(l,8).onClick(u)&&e),e}),a.M,a.b)),o.ob(7,49152,null,0,b.e,[o.h,o.k,o.x],{defaultHref:[0,"defaultHref"]},null),o.ob(8,16384,null,0,b.f,[[2,b.db],b.Cb],{defaultHref:[0,"defaultHref"]},null),(l()(),o.pb(9,0,null,0,2,"ion-title",[],null,null,null,a.ub,a.J)),o.ob(10,49152,null,0,b.vb,[o.h,o.k,o.x],null,null),(l()(),o.Gb(11,0,["",""])),(l()(),o.pb(12,0,null,null,11,"ion-content",[],null,null,null,a.T,a.i)),o.ob(13,49152,null,0,b.s,[o.h,o.k,o.x],null,null),(l()(),o.pb(14,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(l,n,u){var e=!0;return"ionRefresh"===n&&(e=!1!==l.component.getPrePage(u)&&e),e}),a.mb,a.A)),o.ob(15,49152,null,0,b.Y,[o.h,o.k,o.x],null,null),(l()(),o.pb(16,0,null,0,1,"ion-refresher-content",[],null,null,null,a.lb,a.B)),o.ob(17,49152,null,0,b.Z,[o.h,o.k,o.x],null,null),(l()(),o.eb(16777216,null,0,1,null,L)),o.ob(19,16384,null,0,c.j,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(l()(),o.pb(20,0,null,0,3,"ion-infinite-scroll",[["threshold","0.1%"]],null,[[null,"ionInfinite"]],(function(l,n,u){var e=!0;return"ionInfinite"===n&&(e=!1!==l.component.getNextPage(u)&&e),e}),a.bb,a.p)),o.ob(21,49152,null,0,b.C,[o.h,o.k,o.x],{threshold:[0,"threshold"]},null),(l()(),o.pb(22,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","Getting more content..."]],null,null,null,a.ab,a.q)),o.ob(23,49152,null,0,b.D,[o.h,o.k,o.x],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],(function(l,n){var u=n.component;l(n,7,0,"home"),l(n,8,0,"home"),l(n,19,0,u.book),l(n,21,0,"0.1%"),l(n,23,0,"bubbles","Getting more content...")}),(function(l,n){var u=n.component;l(n,11,0,u.book&&u.book.name)}))}var U=o.lb("app-books-detail",R,(function(l){return o.Ib(0,[(l()(),o.pb(0,0,null,null,1,"app-books-detail",[],null,null,null,M,H)),o.ob(1,114688,null,0,R,[s.a,s.m,C,A.i,A.h,o.z],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),V=function l(){_classCallCheck(this,l)};u.d(n,"BooksPageModuleNgFactory",(function(){return J}));var J=o.mb(i,[],(function(l){return o.xb([o.yb(512,o.j,o.X,[[8,[r.a,S,j,z,U]],[3,o.j],o.v]),o.yb(4608,c.l,c.k,[o.s,[2,c.r]]),o.yb(4608,F.o,F.o,[]),o.yb(4608,b.a,b.a,[o.x,o.g]),o.yb(4608,b.Bb,b.Bb,[b.a,o.j,o.p]),o.yb(4608,b.Eb,b.Eb,[b.a,o.j,o.p]),o.yb(4608,F.b,F.b,[]),o.yb(4608,y,y,[o.z,o.c,d.c,o.x,b.Ib]),o.yb(4608,C,C,[y]),o.yb(1073742336,c.c,c.c,[]),o.yb(1073742336,F.n,F.n,[]),o.yb(1073742336,F.e,F.e,[]),o.yb(1073742336,b.zb,b.zb,[]),o.yb(1073742336,F.k,F.k,[]),o.yb(1073742336,s.p,s.p,[[2,s.u],[2,s.m]]),o.yb(1073742336,V,V,[]),o.yb(1073742336,i,i,[]),o.yb(1024,s.k,(function(){return[[{path:"",component:x},{path:"summary/:id",component:w},{path:"new",component:G},{path:"edit/:id",component:G},{path:":id",component:R}]]}),[])])}))}}]);