(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"n1/D":function(n,t,e){"use strict";e.r(t);var r=e("8Y7J");class l{}var o=e("pMnS"),i=e("MKJQ"),u=e("sZkV"),a=e("iInd"),s=e("SVse");class c{}var f=e("aOlj"),h=e("HDdC"),b=e("IheW");let d=(()=>{class n{constructor(n){this.baseService=n}getBookList(n){let t=(new b.i).set("page",n.page);return n.bookType&&(t=t.set("bookType",n.bookType)),n.tags&&(t=t.set("tags",n.tags)),n.pageNum&&(t=t.set("pageNum",n.pageNum)),n.bookNum&&(t=t.set("bookNum",n.bookNum)),this.baseService.get({url:"api/books",params:t})}getBookById(n){return n?this.baseService.get({url:"api/books/".concat(n)}):new h.a}getBookContentById(n){let t=(new b.i).set("page",n.page||1);return t=t.set("id",n.id),t=t.set("pageNum",n.pageNum||2e3),n.id?this.baseService.get({url:"api/books/".concat(n.id,"/content"),params:t}):new h.a}createBook(n){return this.baseService.post({url:"api/books",form:n})}updateBook(n,t){return this.baseService.put({url:"api/books/".concat(t),form:n})}deleteBookById(n){return this.baseService.delete({url:"api/books/".concat(n)})}postBannerFile(n){return this.baseService.postImageFile(n)}}return n.ngInjectableDef=r.Ob({factory:function(){return new n(r.Pb(f.a))},token:n,providedIn:"root"}),n})();var p=Object.keys,g=Array.isArray,v="undefined"!=typeof self?self:"undefined"!=typeof window?window:global;function m(n,t){return"object"!=typeof t?n:(p(t).forEach((function(e){n[e]=t[e]})),n)}var y=Object.getPrototypeOf,k={}.hasOwnProperty;function w(n,t){return k.call(n,t)}function x(n,t){"function"==typeof t&&(t=t(y(n))),p(t).forEach((function(e){B(n,e,t[e])}))}var _=Object.defineProperty;function B(n,t,e,r){_(n,t,m(e&&w(e,"get")&&"function"==typeof e.get?{get:e.get,set:e.set,configurable:!0}:{value:e,configurable:!0,writable:!0},r))}function C(n){return{from:function(t){return n.prototype=Object.create(t.prototype),B(n.prototype,"constructor",n),{extend:x.bind(null,n.prototype)}}}}var I=Object.getOwnPropertyDescriptor,S=[].slice;function P(n,t,e){return S.call(n,t,e)}function j(n,t){return t(n)}function E(n){if(!n)throw new Error("Assertion Failed")}function F(n){v.setImmediate?setImmediate(n):setTimeout(n,0)}function T(n,t){return n.reduce((function(n,e,r){var l=t(e,r);return l&&(n[l[0]]=l[1]),n}),{})}function O(n,t,e){try{n.apply(null,e)}catch(r){t&&t(r)}}function D(n,t){if(w(n,t))return n[t];if(!t)return n;if("string"!=typeof t){for(var e=[],r=0,l=t.length;r<l;++r){var o=D(n,t[r]);e.push(o)}return e}var i=t.indexOf(".");if(-1!==i){var u=n[t.substr(0,i)];return void 0===u?void 0:D(u,t.substr(i+1))}}function A(n,t,e){if(n&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(n)))if("string"!=typeof t&&"length"in t){E("string"!=typeof e&&"length"in e);for(var r=0,l=t.length;r<l;++r)A(n,t[r],e[r])}else{var o=t.indexOf(".");if(-1!==o){var i=t.substr(0,o),u=t.substr(o+1);if(""===u)void 0===e?delete n[i]:n[i]=e;else{var a=n[i];a||(a=n[i]={}),A(a,u,e)}}else void 0===e?delete n[t]:n[t]=e}}function K(n){var t={};for(var e in n)w(n,e)&&(t[e]=n[e]);return t}var q=[].concat;function M(n){return q.apply([],n)}var z="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(M([8,16,32,64].map((function(n){return["Int","Uint","Float"].map((function(t){return t+n+"Array"}))})))).filter((function(n){return v[n]})).map((function(n){return v[n]}));function N(n){if(!n||"object"!=typeof n)return n;var t;if(g(n)){t=[];for(var e=0,r=n.length;e<r;++e)t.push(N(n[e]))}else if(z.indexOf(n.constructor)>=0)t=n;else for(var l in t=n.constructor?Object.create(n.constructor.prototype):{},n)w(n,l)&&(t[l]=N(n[l]));return t}function L(n,t,e,r){return e=e||{},r=r||"",p(n).forEach((function(l){if(w(t,l)){var o=n[l],i=t[l];"object"==typeof o&&"object"==typeof i&&o&&i&&""+o.constructor==""+i.constructor?L(o,i,e,r+l+"."):o!==i&&(e[r+l]=t[l])}else e[r+l]=void 0})),p(t).forEach((function(l){w(n,l)||(e[r+l]=t[l])})),e}var H="undefined"!=typeof Symbol&&Symbol.iterator,R=H?function(n){var t;return null!=n&&(t=n[H])&&t.apply(n)}:function(){return null},U={};function V(n){var t,e,r,l;if(1===arguments.length){if(g(n))return n.slice();if(this===U&&"string"==typeof n)return[n];if(l=R(n)){for(e=[];!(r=l.next()).done;)e.push(r.value);return e}if(null==n)return[n];if("number"==typeof(t=n.length)){for(e=new Array(t);t--;)e[t]=n[t];return e}return[n]}for(t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return e}var J="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function G(n,t){J=n,W=t}var W=function(){return!0},$=!new Error("").stack;function Z(){if($)try{throw new Error}catch(n){return n}return new Error}function Q(n,t){var e=n.stack;return e?(t=t||0,0===e.indexOf(n.name)&&(t+=(n.name+n.message).split("\n").length),e.split("\n").slice(t).filter(W).map((function(n){return"\n"+n})).join("")):""}var Y=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],X=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Y),nn={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function tn(n,t){this._e=Z(),this.name=n,this.message=t}function en(n,t,e,r){this._e=Z(),this.failures=t,this.failedKeys=r,this.successCount=e}function rn(n,t){this._e=Z(),this.name="BulkError",this.failures=t,this.message=function(n,t){return n+". Errors: "+t.map((function(n){return n.toString()})).filter((function(n,t,e){return e.indexOf(n)===t})).join("\n")}(n,t)}C(tn).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Q(this._e,2))}},toString:function(){return this.name+": "+this.message}}),C(en).from(tn),C(rn).from(tn);var ln=X.reduce((function(n,t){return n[t]=t+"Error",n}),{}),on=tn,un=X.reduce((function(n,t){var e=t+"Error";function r(n,r){this._e=Z(),this.name=e,n?"string"==typeof n?(this.message=n,this.inner=r||null):"object"==typeof n&&(this.message=n.name+" "+n.message,this.inner=n):(this.message=nn[t]||e,this.inner=null)}return C(r).from(on),n[t]=r,n}),{});un.Syntax=SyntaxError,un.Type=TypeError,un.Range=RangeError;var an=Y.reduce((function(n,t){return n[t+"Error"]=un[t],n}),{}),sn=X.reduce((function(n,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(n[t+"Error"]=un[t]),n}),{});function cn(){}function fn(n){return n}function hn(n,t){return null==n||n===fn?t:function(e){return t(n(e))}}function bn(n,t){return function(){n.apply(this,arguments),t.apply(this,arguments)}}function dn(n,t){return n===cn?t:function(){var e=n.apply(this,arguments);void 0!==e&&(arguments[0]=e);var r=this.onsuccess,l=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?bn(r,this.onsuccess):r),l&&(this.onerror=this.onerror?bn(l,this.onerror):l),void 0!==o?o:e}}function pn(n,t){return n===cn?t:function(){n.apply(this,arguments);var e=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),e&&(this.onsuccess=this.onsuccess?bn(e,this.onsuccess):e),r&&(this.onerror=this.onerror?bn(r,this.onerror):r)}}function gn(n,t){return n===cn?t:function(e){var r=n.apply(this,arguments);m(e,r);var l=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return l&&(this.onsuccess=this.onsuccess?bn(l,this.onsuccess):l),o&&(this.onerror=this.onerror?bn(o,this.onerror):o),void 0===r?void 0===i?void 0:i:m(r,i)}}function vn(n,t){return n===cn?t:function(){return!1!==t.apply(this,arguments)&&n.apply(this,arguments)}}function mn(n,t){return n===cn?t:function(){var e=n.apply(this,arguments);if(e&&"function"==typeof e.then){for(var r=this,l=arguments.length,o=new Array(l);l--;)o[l]=arguments[l];return e.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}sn.ModifyError=en,sn.DexieError=tn,sn.BulkError=rn;var yn={},kn=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(t){var n=v.Promise;return n?[n.resolve(),n.prototype,n.resolve()]:[]}}(),wn=kn[0],xn=kn[1],_n=kn[2],Bn=xn&&xn.then,Cn=wn&&wn.constructor,In=kn[3],Sn=!!_n,Pn=!1,jn=_n?function(){_n.then(Qn)}:v.setImmediate?setImmediate.bind(null,Qn):v.MutationObserver?function(){var n=document.createElement("div");new MutationObserver((function(){Qn(),n=null})).observe(n,{attributes:!0}),n.setAttribute("i","1")}:function(){setTimeout(Qn,0)},En=function(n,t){zn.push([n,t]),Tn&&(jn(),Tn=!1)},Fn=!0,Tn=!0,On=[],Dn=[],An=null,Kn=fn,qn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:kt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(n){try{kt(n[0],n[1])}catch(t){}}))}},Mn=qn,zn=[],Nn=0,Ln=[];function Hn(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=cn,this._lib=!1;var t=this._PSD=Mn;if(J&&(this._stackHolder=Z(),this._prev=null,this._numPrev=0),"function"!=typeof n){if(n!==yn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Jn(this,this._value))}this._state=null,this._value=null,++t.ref,Vn(this,n)}var Rn={get:function(){var n=Mn,t=ut;function e(e,r){var l=this,o=!n.global&&(n!==Mn||t!==ut);o&&ft();var i=new Hn((function(t,i){Wn(l,new Un(mt(e,n,o),mt(r,n,o),t,i,n))}));return J&&Zn(i,this),i}return e.prototype=yn,e},set:function(n){B(this,"then",n&&n.prototype===yn?Rn:{get:function(){return n},set:Rn.set})}};function Un(n,t,e,r,l){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.resolve=e,this.reject=r,this.psd=l}function Vn(n,t){try{t((function(t){if(null===n._state){if(t===n)throw new TypeError("A promise cannot be resolved with itself.");var e=n._lib&&Yn();t&&"function"==typeof t.then?Vn(n,(function(n,e){t instanceof Hn?t._then(n,e):t.then(n,e)})):(n._state=!0,n._value=t,Gn(n)),e&&Xn()}}),Jn.bind(null,n))}catch(e){Jn(n,e)}}function Jn(n,t){if(Dn.push(t),null===n._state){var e=n._lib&&Yn();t=Kn(t),n._state=!1,n._value=t,J&&null!==t&&"object"==typeof t&&!t._promise&&O((function(){var e=function n(t,e){var r;return I(t,e)||(r=y(t))&&n(r,e)}(t,"stack");t._promise=n,B(t,"stack",{get:function(){return Pn?e&&(e.get?e.get.apply(t):e.value):n.stack}})})),function(n){On.some((function(t){return t._value===n._value}))||On.push(n)}(n),Gn(n),e&&Xn()}}function Gn(n){var t=n._listeners;n._listeners=[];for(var e=0,r=t.length;e<r;++e)Wn(n,t[e]);var l=n._PSD;--l.ref||l.finalize(),0===Nn&&(++Nn,En((function(){0==--Nn&&nt()}),[]))}function Wn(n,t){if(null!==n._state){var e=n._state?t.onFulfilled:t.onRejected;if(null===e)return(n._state?t.resolve:t.reject)(n._value);++t.psd.ref,++Nn,En($n,[e,n,t])}else n._listeners.push(t)}function $n(n,t,e){try{An=t;var r,l=t._value;t._state?r=n(l):(Dn.length&&(Dn=[]),r=n(l),-1===Dn.indexOf(l)&&function(n){for(var t=On.length;t;)if(On[--t]._value===n._value)return void On.splice(t,1)}(t)),e.resolve(r)}catch(o){e.reject(o)}finally{An=null,0==--Nn&&nt(),--e.psd.ref||e.psd.finalize()}}function Zn(n,t){var e=t?t._numPrev+1:0;e<100&&(n._prev=t,n._numPrev=e)}function Qn(){Yn()&&Xn()}function Yn(){var n=Fn;return Fn=!1,Tn=!1,n}function Xn(){var n,t,e;do{for(;zn.length>0;)for(n=zn,zn=[],e=n.length,t=0;t<e;++t){var r=n[t];r[0].apply(null,r[1])}}while(zn.length>0);Fn=!0,Tn=!0}function nt(){var n=On;On=[],n.forEach((function(n){n._PSD.onunhandled.call(null,n._value,n)}));for(var t=Ln.slice(0),e=t.length;e;)t[--e]()}function tt(n){return new Hn(yn,!1,n)}function et(n,t){var e=Mn;return function(){var r=Yn(),l=Mn;try{return pt(e,!0),n.apply(this,arguments)}catch(o){t&&t(o)}finally{pt(l,!1),r&&Xn()}}}x(Hn.prototype,{then:Rn,_then:function(n,t){Wn(this,new Un(null,null,n,t,Mn))},catch:function(n){if(1===arguments.length)return this.then(null,n);var t=arguments[0],e=arguments[1];return this.then(null,"function"==typeof t?function(n){return n instanceof t?e(n):tt(n)}:function(n){return n&&n.name===t?e(n):tt(n)})},finally:function(n){return this.then((function(t){return n(),t}),(function(t){return n(),tt(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{Pn=!0;var n=function n(t,e,r){if(e.length===r)return e;var l="";if(!1===t._state){var o,i,u=t._value;null!=u?(o=u.name||"Error",i=u.message||u,l=Q(u,0)):(o=u,i=""),e.push(o+(i?": "+i:"")+l)}return J&&((l=Q(t._stackHolder,2))&&-1===e.indexOf(l)&&e.push(l),t._prev&&n(t._prev,e,r)),e}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=n),n}finally{Pn=!1}}},timeout:function(n,t){var e=this;return n<1/0?new Hn((function(r,l){var o=setTimeout((function(){return l(new un.Timeout(t))}),n);e.then(r,l).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&B(Hn.prototype,Symbol.toStringTag,"Promise"),qn.env=gt(),x(Hn,{all:function(){var n=V.apply(null,arguments).map(ht);return new Hn((function(t,e){0===n.length&&t([]);var r=n.length;n.forEach((function(l,o){return Hn.resolve(l).then((function(e){n[o]=e,--r||t(n)}),e)}))}))},resolve:function(n){if(n instanceof Hn)return n;if(n&&"function"==typeof n.then)return new Hn((function(t,e){n.then(t,e)}));var t=new Hn(yn,!0,n);return Zn(t,An),t},reject:tt,race:function(){var n=V.apply(null,arguments).map(ht);return new Hn((function(t,e){n.map((function(n){return Hn.resolve(n).then(t,e)}))}))},PSD:{get:function(){return Mn},set:function(n){return Mn=n}},newPSD:st,usePSD:vt,scheduler:{get:function(){return En},set:function(n){En=n}},rejectionMapper:{get:function(){return Kn},set:function(n){Kn=n}},follow:function(n,t){return new Hn((function(e,r){return st((function(t,e){var r=Mn;r.unhandleds=[],r.onunhandled=e,r.finalize=bn((function(){var n=this;Ln.push((function r(){0===n.unhandleds.length?t():e(n.unhandleds[0]),Ln.splice(Ln.indexOf(r),1)})),++Nn,En((function(){0==--Nn&&nt()}),[])}),r.finalize),n()}),t,e,r)}))}});var rt={awaits:0,echoes:0,id:0},lt=0,ot=[],it=0,ut=0,at=0;function st(n,t,e,r){var l=Mn,o=Object.create(l);o.parent=l,o.ref=0,o.global=!1,o.id=++at;var i=qn.env;o.env=Sn?{Promise:Hn,PromiseProp:{value:Hn,configurable:!0,writable:!0},all:Hn.all,race:Hn.race,resolve:Hn.resolve,reject:Hn.reject,nthen:yt(i.nthen,o),gthen:yt(i.gthen,o)}:{},t&&m(o,t),++l.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=vt(o,n,e,r);return 0===o.ref&&o.finalize(),u}function ct(){return rt.id||(rt.id=++lt),++rt.awaits,rt.echoes+=7,rt.id}function ft(n){!rt.awaits||n&&n!==rt.id||(0==--rt.awaits&&(rt.id=0),rt.echoes=7*rt.awaits)}function ht(n){return rt.echoes&&n&&n.constructor===Cn?(ct(),n.then((function(n){return ft(),n}),(function(n){return ft(),wt(n)}))):n}function bt(n){++ut,rt.echoes&&0!=--rt.echoes||(rt.echoes=rt.id=0),ot.push(Mn),pt(n,!0)}function dt(){var n=ot[ot.length-1];ot.pop(),pt(n,!1)}function pt(n,t){var e,r=Mn;if((t?!rt.echoes||it++&&n===Mn:!it||--it&&n===Mn)||(e=t?bt.bind(null,n):dt,Bn.call(wn,e)),n!==Mn&&(Mn=n,r===qn&&(qn.env=gt()),Sn)){var l=qn.env.Promise,o=n.env;xn.then=o.nthen,l.prototype.then=o.gthen,(r.global||n.global)&&(Object.defineProperty(v,"Promise",o.PromiseProp),l.all=o.all,l.race=o.race,l.resolve=o.resolve,l.reject=o.reject)}}function gt(){var n=v.Promise;return Sn?{Promise:n,PromiseProp:Object.getOwnPropertyDescriptor(v,"Promise"),all:n.all,race:n.race,resolve:n.resolve,reject:n.reject,nthen:xn.then,gthen:n.prototype.then}:{}}function vt(n,t,e,r,l){var o=Mn;try{return pt(n,!0),t(e,r,l)}finally{pt(o,!1)}}function mt(n,t,e){return"function"!=typeof n?n:function(){var r=Mn;e&&ct(),pt(t,!0);try{return n.apply(this,arguments)}finally{pt(r,!1)}}}function yt(n,t){return function(e,r){return n.call(this,mt(e,t,!1),mt(r,t,!1))}}function kt(n,t){var e;try{e=t.onuncatched(n)}catch(o){}if(!1!==e)try{var r,l={promise:t,reason:n};if(v.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),m(r,l)):v.CustomEvent&&m(r=new CustomEvent("unhandledrejection",{detail:l}),l),r&&v.dispatchEvent&&(dispatchEvent(r),!v.PromiseRejectionEvent&&v.onunhandledrejection))try{v.onunhandledrejection(r)}catch(i){}r.defaultPrevented||console.warn("Unhandled rejection: "+(n.stack||n))}catch(o){}}var wt=Hn.reject;function xt(n){var t={},e=function(e,r){if(r){for(var l=arguments.length,o=new Array(l-1);--l;)o[l-1]=arguments[l];return t[e].subscribe.apply(null,o),n}if("string"==typeof e)return t[e]};e.addEventType=o;for(var r=1,l=arguments.length;r<l;++r)o(arguments[r]);return e;function o(n,r,l){if("object"==typeof n)return i(n);r||(r=vn),l||(l=cn);var o={subscribers:[],fire:l,subscribe:function(n){-1===o.subscribers.indexOf(n)&&(o.subscribers.push(n),o.fire=r(o.fire,n))},unsubscribe:function(n){o.subscribers=o.subscribers.filter((function(t){return t!==n})),o.fire=o.subscribers.reduce(r,l)}};return t[n]=e[n]=o,o}function i(n){p(n).forEach((function(t){var e=n[t];if(g(e))o(t,n[t][0],n[t][1]);else{if("asap"!==e)throw new un.InvalidArgument("Invalid event config");var r=o(t,fn,(function(){for(var n=arguments.length,t=new Array(n);n--;)t[n]=arguments[n];r.subscribers.forEach((function(n){F((function(){n.apply(null,t)}))}))}))}}))}}var _t,Bt=String.fromCharCode(65535),Ct=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(n){return Bt}}(),It="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",St=[],Pt="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),jt=Pt,Et=Pt,Ft=function(n){return!/(dexie\.js|dexie\.min\.js)/.test(n)};function Tt(n,t){var e,r,l,o,i,u=Tt.dependencies,a=m({addons:Tt.addons,autoOpen:!0,indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},t),s=a.addons,c=a.autoOpen,f=a.indexedDB,h=a.IDBKeyRange,b=this._dbSchema={},d=[],y=[],k={},_=null,C=null,I=!1,S=null,F=!1,q="readwrite",z=this,H=new Hn((function(n){e=n})),R=new Hn((function(n,t){r=t})),G=!0,W=!!Rt(f);function $(n){this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function Y(n,t,e,r){var l=n.db.createObjectStore(t,e.keyPath?{keyPath:e.keyPath,autoIncrement:e.auto}:{autoIncrement:e.auto});return r.forEach((function(n){X(l,n)})),l}function X(n,t){n.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function nn(n,t,e){var r=arguments.length;if(r<2)throw new un.InvalidArgument("Too few arguments");for(var l=new Array(r-1);--r;)l[r-1]=arguments[r];e=l.pop();var o=M(l);return[n,o,e]}function tn(n,t,e){this.name=n,this.schema=t,this._tx=e,this.hook=k[n]?k[n].hook:xt(null,{creating:[dn,cn],reading:[hn,fn],updating:[gn,cn],deleting:[pn,cn]})}function ln(n,t,e){return(e?qt:At)((function(e){n.push(e),t&&t()}))}function on(n,t,e,r,l){return new Hn((function(o,i){var u=e.length,a=u-1;if(0===u)return o();if(r){var s,c=qt(i),f=Dt(null);O((function(){for(var r=0;r<u;++r){var i=e[r];l.call(s={onsuccess:null,onerror:null},i[0],i[1],t);var h=n.delete(i[0]);h._hookCtx=s,h.onerror=c,h.onsuccess=r===a?Dt(o):f}}),(function(n){throw s.onerror&&s.onerror(n),n}))}else for(var h=0;h<u;++h){var b=n.delete(e[h]);b.onerror=At(i),h===a&&(b.onsuccess=et((function(){return o()})))}}))}function an(n,t,e,r){var l=this;this.db=z,this.mode=n,this.storeNames=t,this.idbtrans=null,this.on=xt(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Hn((function(n,t){l._resolve=n,l._reject=t})),this._completion.then((function(){l.active=!1,l.on.complete.fire()}),(function(n){var t=l.active;return l.active=!1,l.on.error.fire(n),l.parent?l.parent._reject(n):t&&l.idbtrans&&l.idbtrans.abort(),wt(n)}))}function sn(n,t,e){this._ctx={table:n,index:":id"===t?null:t,or:e}}function bn(n,t){var e=null,r=null;if(t)try{e=t()}catch(i){r=i}var l=n._ctx,o=l.table;this._ctx={table:o,index:l.index,isPrimKey:!l.index||o.schema.primKey.keyPath&&l.index===o.schema.primKey.name,range:e,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:l.or,valueMapper:o.hook.reading.fire}}function vn(n,t){return!(n.filter||n.algorithm||n.or)&&(t?n.justLimit:!n.replayFilter)}function yn(n,t){return n._cfg.version-t._cfg.version}function kn(n,t,e){t.forEach((function(t){var r=e[t];n.forEach((function(n){t in n||(n===an.prototype||n instanceof an?B(n,t,{get:function(){return this.table(t)}}):n[t]=new tn(t,r))}))}))}function wn(n,t,e,r,l,o){var i=et(o?function(n,t,r){return e(o(n),t,r)}:e,l);n.onerror||(n.onerror=At(l)),n.onsuccess=function(n,t){return function(){try{n.apply(this,arguments)}catch(e){t(e)}}}(t?function(){var e=n.result;if(e){var o=function(){e.continue()};t(e,(function(n){o=n}),r,l)&&i(e.value,e,(function(n){o=n})),o()}else r()}:function(){var t=n.result;if(t){var e=function(){t.continue()};i(t.value,t,(function(n){e=n})),e()}else r()},l)}function xn(n,t){return f.cmp(n,t)}function _n(n,t){return xn(n,t)>0?n:t}function Bn(n,t){return f.cmp(n,t)}function Sn(n,t){return f.cmp(t,n)}function Pn(n,t){return n<t?-1:n===t?0:1}function jn(n,t){return n>t?-1:n===t?0:1}function En(n,t){return n?t?function(){return n.apply(this,arguments)&&t.apply(this,arguments)}:n:t}function Fn(n,t){for(var e=t.db.objectStoreNames,r=0;r<e.length;++r){var o=e[r],i=t.objectStore(o);l="getAll"in i;for(var u=0;u<i.indexNames.length;++u){var a=i.indexNames[u],s=i.index(a).keyPath,c="string"==typeof s?s:"["+P(s).join("+")+"]";if(n[o]){var f=n[o].idxByName[c];f&&(f.name=a)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&v.WorkerGlobalScope&&v instanceof v.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l=!1)}function Tn(n){z.on("blocked").fire(n),St.filter((function(n){return n.name===z.name&&n!==z&&!n._vcFired})).map((function(t){return t.on("versionchange").fire(n)}))}this.version=function(n){if(_||I)throw new un.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var t=d.filter((function(t){return t._cfg.version===n}))[0];return t||(t=new $(n),d.push(t),d.sort(yn),G=!1,t)},m($.prototype,{stores:function(n){this._cfg.storesSource=this._cfg.storesSource?m(this._cfg.storesSource,n):n;var t={};d.forEach((function(n){m(t,n._cfg.storesSource)}));var e=this._cfg.dbschema={};return this._parseStoresSpec(t,e),b=z._dbSchema=e,[k,z,an.prototype].forEach((function(n){for(var t in n)n[t]instanceof tn&&delete n[t]})),kn([k,z,an.prototype,this._cfg.tables],p(e),e),y=p(e),this},upgrade:function(n){return this._cfg.contentUpgrade=n,this},_parseStoresSpec:function(n,t){p(n).forEach((function(e){if(null!==n[e]){var r={},l=function(n){var t=[];return n.split(",").forEach((function(n){var e=(n=n.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(e)?e.match(/^\[(.*)\]$/)[1].split("+"):e;t.push(new Nt(e,r||null,/\&/.test(n),/\*/.test(n),/\+\+/.test(n),g(r),/\./.test(n)))})),t}(n[e]),o=l.shift();if(o.multi)throw new un.Schema("Primary key cannot be multi-valued");o.keyPath&&A(r,o.keyPath,o.auto?0:o.keyPath),l.forEach((function(n){if(n.auto)throw new un.Schema("Only primary key can be marked as autoIncrement (++)");if(!n.keyPath)throw new un.Schema("Index must have a name and cannot be an empty string");A(r,n.keyPath,n.compound?n.keyPath.map((function(){return""})):"")})),t[e]=new Lt(e,o,l,r)}}))}}),this._allTables=k,this._createTransaction=function(n,t,e,r){return new an(n,t,e,r)},this._whenReady=function(n){return F||Mn.letThrough?n():new Hn((function(n,t){if(!I){if(!c)return void t(new un.DatabaseClosed);z.open().catch(cn)}H.then(n,t)})).then(n)},this.verno=0,this.open=function(){if(I||_)return H.then((function(){return C?wt(C):z}));J&&(R._stackHolder=Z()),I=!0,C=null,F=!1;var t=e,r=null;return Hn.race([R,new Hn((function(t,e){if(!f)throw new un.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var l=G?f.open(n):f.open(n,Math.round(10*z.verno));if(!l)throw new un.MissingAPI("IndexedDB API not available");l.onerror=At(e),l.onblocked=et(Tn),l.onupgradeneeded=et((function(t){if(r=l.transaction,G&&!z._allowEmptyDB){l.onerror=Mt,r.abort(),l.result.close();var o=f.deleteDatabase(n);o.onsuccess=o.onerror=et((function(){e(new un.NoSuchDatabase("Database "+n+" doesnt exist"))}))}else r.onerror=At(e),function(n,t,e){var r=z._createTransaction(q,y,b);r.create(t),r._completion.catch(e);var l=r._reject.bind(r);st((function(){Mn.trans=r,0===n?(p(b).forEach((function(n){Y(t,n,b[n].primKey,b[n].indexes)})),Hn.follow((function(){return z.on.populate.fire(r)})).catch(l)):function(n,t,e){var r=[],l=d.filter((function(t){return t._cfg.version===n}))[0];if(!l)throw new un.Upgrade("Dexie specification of currently installed DB version is missing");b=z._dbSchema=l._cfg.dbschema;var o=!1;return d.filter((function(t){return t._cfg.version>n})).forEach((function(n){r.push((function(){var r=b,l=n._cfg.dbschema;Fn(r,e),Fn(l,e),b=z._dbSchema=l;var i=function(n,t){var e={del:[],add:[],change:[]};for(var r in n)t[r]||e.del.push(r);for(r in t){var l=n[r],o=t[r];if(l){var i={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(l.primKey.src!==o.primKey.src)i.recreate=!0,e.change.push(i);else{var u=l.idxByName,a=o.idxByName;for(var s in u)a[s]||i.del.push(s);for(s in a){var c=u[s],f=a[s];c?c.src!==f.src&&i.change.push(f):i.add.push(f)}(i.del.length>0||i.add.length>0||i.change.length>0)&&e.change.push(i)}}else e.add.push([r,o])}return e}(r,l);if(i.add.forEach((function(n){Y(e,n[0],n[1].primKey,n[1].indexes)})),i.change.forEach((function(n){if(n.recreate)throw new un.Upgrade("Not yet support for changing primary key");var t=e.objectStore(n.name);n.add.forEach((function(n){X(t,n)})),n.change.forEach((function(n){t.deleteIndex(n.name),X(t,n)})),n.del.forEach((function(n){t.deleteIndex(n)}))})),n._cfg.contentUpgrade)return o=!0,Hn.follow((function(){n._cfg.contentUpgrade(t)}))})),r.push((function(t){o&&jt||function(n,t){for(var e=0;e<t.db.objectStoreNames.length;++e){var r=t.db.objectStoreNames[e];null==n[r]&&t.db.deleteObjectStore(r)}}(n._cfg.dbschema,t)}))})),function n(){return r.length?Hn.resolve(r.shift()(t.idbtrans)).then(n):Hn.resolve()}().then((function(){!function(n,t){p(n).forEach((function(e){t.db.objectStoreNames.contains(e)||Y(t,e,n[e].primKey,n[e].indexes)}))}(b,e)}))}(n,r,t).catch(l)}))}((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,r,e)}),e),l.onsuccess=et((function(){if(r=null,_=l.result,St.push(z),G)!function(){if(z.verno=_.version/10,z._dbSchema=b={},0!==(y=P(_.objectStoreNames,0)).length){var n=_.transaction(Ht(y),"readonly");y.forEach((function(t){for(var e=n.objectStore(t),r=e.keyPath,l=r&&"string"==typeof r&&-1!==r.indexOf("."),o=new Nt(r,r||"",!1,!1,!!e.autoIncrement,r&&"string"!=typeof r,l),i=[],u=0;u<e.indexNames.length;++u){var a=e.index(e.indexNames[u]);l=(r=a.keyPath)&&"string"==typeof r&&-1!==r.indexOf(".");var s=new Nt(a.name,r,!!a.unique,!!a.multiEntry,!1,r&&"string"!=typeof r,l);i.push(s)}b[t]=new Lt(t,o,i,{})})),kn([k],p(b),b)}}();else if(_.objectStoreNames.length>0)try{Fn(b,_.transaction(Ht(_.objectStoreNames),"readonly"))}catch(e){}_.onversionchange=et((function(n){z._vcFired=!0,z.on("versionchange").fire(n)})),W||"__dbnames"===n||_t.dbnames.put({name:n}).catch(cn),t()}),e)}))]).then((function(){return S=[],Hn.resolve(Tt.vip(z.on.ready.fire)).then((function n(){if(S.length>0){var t=S.reduce(mn,cn);return S=[],Hn.resolve(Tt.vip(t)).then(n)}}))})).finally((function(){S=null})).then((function(){return I=!1,z})).catch((function(n){try{r&&r.abort()}catch(t){}return I=!1,z.close(),wt(C=n)})).finally((function(){F=!0,t()}))},this.close=function(){var n=St.indexOf(z);if(n>=0&&St.splice(n,1),_){try{_.close()}catch(t){}_=null}c=!1,C=new un.DatabaseClosed,I&&r(C),H=new Hn((function(n){e=n})),R=new Hn((function(n,t){r=t}))},this.delete=function(){var t=arguments.length>0;return new Hn((function(e,r){if(t)throw new un.InvalidArgument("Arguments not allowed in db.delete()");function l(){z.close();var t=f.deleteDatabase(n);t.onsuccess=et((function(){W||_t.dbnames.delete(n).catch(cn),e()})),t.onerror=At(r),t.onblocked=Tn}I?H.then(l):l()}))},this.backendDB=function(){return _},this.isOpen=function(){return null!==_},this.hasBeenClosed=function(){return C&&C instanceof un.DatabaseClosed},this.hasFailed=function(){return null!==C},this.dynamicallyOpened=function(){return G},this.name=n,x(this,{tables:{get:function(){return p(k).map((function(n){return k[n]}))}}}),this.on=xt(this,"populate","blocked","versionchange",{ready:[mn,cn]}),this.on.ready.subscribe=j(this.on.ready.subscribe,(function(n){return function(t,e){Tt.vip((function(){F?(C||Hn.resolve().then(t),e&&n(t)):S?(S.push(t),e&&n(t)):(n(t),e||n((function n(){z.on.ready.unsubscribe(t),z.on.ready.unsubscribe(n)})))}))}})),this.transaction=function(){var n=nn.apply(this,arguments);return this._transaction.apply(this,n)},this._transaction=function(n,t,e){var r=Mn.trans;r&&r.db===z&&-1===n.indexOf("!")||(r=null);var l=-1!==n.indexOf("?");n=n.replace("!","").replace("?","");try{var o=t.map((function(n){var t=n instanceof tn?n.name:n;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}));if("r"==n||"readonly"==n)n="readonly";else{if("rw"!=n&&n!=q)throw new un.InvalidArgument("Invalid transaction mode: "+n);n=q}if(r){if("readonly"===r.mode&&n===q){if(!l)throw new un.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&o.forEach((function(n){if(r&&-1===r.storeNames.indexOf(n)){if(!l)throw new un.SubTransaction("Table "+n+" not included in parent transaction.");r=null}})),l&&r&&!r.active&&(r=null)}}catch(u){return r?r._promise(null,(function(n,t){t(u)})):wt(u)}return r?r._promise(n,i,"lock"):Mn.trans?vt(Mn.transless,(function(){return z._whenReady(i)})):z._whenReady(i);function i(){return Hn.resolve().then((function(){var t,l=Mn.transless||Mn,i=z._createTransaction(n,o,b,r),u={trans:i,transless:l};r?i.idbtrans=r.idbtrans:i.create(),e.constructor===In&&ct();var a=Hn.follow((function(){if(t=e.call(i,i))if(t.constructor===Cn){var n=ft.bind(null,null);t.then(n,n)}else"function"==typeof t.next&&"function"==typeof t.throw&&(t=zt(t))}),u);return(t&&"function"==typeof t.then?Hn.resolve(t).then((function(n){return i.active?n:wt(new un.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):a.then((function(){return t}))).then((function(n){return r&&i._resolve(),i._completion.then((function(){return n}))})).catch((function(n){return i._reject(n),wt(n)}))}))}},this.table=function(n){if(!w(k,n))throw new un.InvalidTable("Table "+n+" does not exist");return k[n]},x(tn.prototype,{_trans:function(n,t,e){var r=this._tx||Mn.trans;return r&&r.db===z?r===Mn.trans?r._promise(n,t,e):st((function(){return r._promise(n,t,e)}),{trans:r,transless:Mn.transless||Mn}):function n(t,e,r){if(F||Mn.letThrough){var l=z._createTransaction(t,e,b);try{l.create()}catch(o){return wt(o)}return l._promise(t,(function(n,t){return st((function(){return Mn.trans=l,r(n,t,l)}))})).then((function(n){return l._completion.then((function(){return n}))}))}if(!I){if(!c)return wt(new un.DatabaseClosed);z.open().catch(cn)}return H.then((function(){return n(t,e,r)}))}(n,[this.name],t)},_idbstore:function(n,t,e){var r=this.name;return this._trans(n,(function(n,e,l){if(-1===l.storeNames.indexOf(r))throw new un.NotFound("Table"+r+" not part of transaction");return t(n,e,l.idbtrans.objectStore(r),l)}),e)},get:function(n,t){if(n&&n.constructor===Object)return this.where(n).first(t);var e=this;return this._idbstore("readonly",(function(t,r,l){var o=l.get(n);o.onerror=At(r),o.onsuccess=et((function(){t(e.hook.reading.fire(o.result))}),r)})).then(t)},where:function(n){if("string"==typeof n)return new sn(this,n);if(g(n))return new sn(this,"["+n.join("+")+"]");var t=p(n);if(1===t.length)return this.where(t[0]).equals(n[t[0]]);var e=this.schema.indexes.concat(this.schema.primKey).filter((function(n){return n.compound&&t.every((function(t){return n.keyPath.indexOf(t)>=0}))&&n.keyPath.every((function(n){return t.indexOf(n)>=0}))}))[0];if(e&&Ct!==Bt)return this.where(e.name).equals(e.keyPath.map((function(t){return n[t]})));e||console.warn("The query "+JSON.stringify(n)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var r=this.schema.idxByName,l=t.reduce((function(t,e){return[t[0]||r[e],t[0]||!r[e]?En(t[1],(function(t){return""+D(t,e)==""+n[e]})):t[1]]}),[null,null]),o=l[0];return o?this.where(o.name).equals(n[o.keyPath]).filter(l[1]):e?this.filter(l[1]):this.where(t).equals("")},count:function(n){return this.toCollection().count(n)},offset:function(n){return this.toCollection().offset(n)},limit:function(n){return this.toCollection().limit(n)},reverse:function(){return this.toCollection().reverse()},filter:function(n){return this.toCollection().and(n)},each:function(n){return this.toCollection().each(n)},toArray:function(n){return this.toCollection().toArray(n)},orderBy:function(n){return new bn(new sn(this,g(n)?"["+n.join("+")+"]":n))},toCollection:function(){return new bn(new sn(this))},mapToClass:function(n,t){this.schema.mappedClass=n;var e=Object.create(n.prototype);t&&Ot(e,t),this.schema.instanceTemplate=e;var r=function(t){if(!t)return t;var e=Object.create(n.prototype);for(var r in t)if(w(t,r))try{e[r]=t[r]}catch(l){}return e};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),n},defineClass:function(n){return this.mapToClass(Tt.defineClass(n),n)},bulkDelete:function(n){return this.hook.deleting.fire===cn?this._idbstore(q,(function(t,e,r,l){t(on(r,l,n,!1,cn))})):this.where(":id").anyOf(n).delete().then((function(){}))},bulkPut:function(n,t){var e=this;return this._idbstore(q,(function(r,l,o){if(!o.keyPath&&!e.schema.primKey.auto&&!t)throw new un.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(o.keyPath&&t)throw new un.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==n.length)throw new un.InvalidArgument("Arguments objects and keys must have the same length");if(0===n.length)return r();var i,u,a=function(n){0===s.length?r(n):l(new rn(e.name+".bulkPut(): "+s.length+" of "+c+" operations failed",s))},s=[],c=n.length,f=e;if(e.hook.creating.fire===cn&&e.hook.updating.fire===cn){u=ln(s);for(var h=0,b=n.length;h<b;++h)(i=t?o.put(n[h],t[h]):o.put(n[h])).onerror=u;i.onerror=ln(s,a),i.onsuccess=Kt(a)}else{var d=t||o.keyPath&&n.map((function(n){return D(n,o.keyPath)})),p=d&&T(d,(function(t,e){return null!=t&&[t,n[e]]}));(d?f.where(":id").anyOf(d.filter((function(n){return null!=n}))).modify((function(){this.value=p[this.primKey],p[this.primKey]=null})).catch(en,(function(n){s=n.failures})).then((function(){for(var e=[],r=t&&[],l=d.length-1;l>=0;--l){var o=d[l];(null==o||p[o])&&(e.push(n[l]),t&&r.push(o),null!=o&&(p[o]=null))}return e.reverse(),t&&r.reverse(),f.bulkAdd(e,r)})).then((function(n){var t=d[d.length-1];return null!=t?t:n})):f.bulkAdd(n)).then(a).catch(rn,(function(n){s=s.concat(n.failures),a()})).catch(l)}}),"locked")},bulkAdd:function(n,t){var e=this,r=this.hook.creating.fire;return this._idbstore(q,(function(l,o,i,u){if(!i.keyPath&&!e.schema.primKey.auto&&!t)throw new un.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(i.keyPath&&t)throw new un.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==n.length)throw new un.InvalidArgument("Arguments objects and keys must have the same length");if(0===n.length)return l();function a(n){0===h.length?l(n):o(new rn(e.name+".bulkAdd(): "+h.length+" of "+b+" operations failed",h))}var s,c,f,h=[],b=n.length;if(r!==cn){var d,p=i.keyPath;c=ln(h,null,!0),f=Dt(null),O((function(){for(var e=0,l=n.length;e<l;++e){d={onerror:null,onsuccess:null};var o=t&&t[e],a=n[e],h=t?o:p?D(a,p):void 0,b=r.call(d,h,a,u);null==h&&null!=b&&(p?A(a=N(a),p,b):o=b),(s=null!=o?i.add(a,o):i.add(a))._hookCtx=d,e<l-1&&(s.onerror=c,d.onsuccess&&(s.onsuccess=f))}}),(function(n){throw d.onerror&&d.onerror(n),n})),s.onerror=ln(h,a,!0),s.onsuccess=Dt(a)}else{c=ln(h);for(var g=0,v=n.length;g<v;++g)(s=t?i.add(n[g],t[g]):i.add(n[g])).onerror=c;s.onerror=ln(h,a),s.onsuccess=Kt(a)}}))},add:function(n,t){var e=this.hook.creating.fire;return this._idbstore(q,(function(r,l,o,i){var u={onsuccess:null,onerror:null};if(e!==cn){var a=null!=t?t:o.keyPath?D(n,o.keyPath):void 0,s=e.call(u,a,n,i);null==a&&null!=s&&(o.keyPath?A(n,o.keyPath,s):t=s)}try{var c=null!=t?o.add(n,t):o.add(n);c._hookCtx=u,c.onerror=qt(l),c.onsuccess=Dt((function(t){var e=o.keyPath;e&&A(n,e,t),r(t)}))}catch(f){throw u.onerror&&u.onerror(f),f}}))},put:function(n,t){var e=this;if(this.hook.creating.fire!==cn||this.hook.updating.fire!==cn){var r=this.schema.primKey.keyPath,l=void 0!==t?t:r&&D(n,r);return null==l?this.add(n):(n=N(n),this._trans(q,(function(){return e.where(":id").equals(l).modify((function(){this.value=n})).then((function(r){return 0===r?e.add(n,t):l}))}),"locked"))}return this._idbstore(q,(function(e,r,l){var o=void 0!==t?l.put(n,t):l.put(n);o.onerror=At(r),o.onsuccess=et((function(t){var r=l.keyPath;r&&A(n,r,t.target.result),e(o.result)}))}))},delete:function(n){return this.hook.deleting.subscribers.length?this.where(":id").equals(n).delete():this._idbstore(q,(function(t,e,r){var l=r.delete(n);l.onerror=At(e),l.onsuccess=et((function(){t(l.result)}))}))},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(q,(function(n,t,e){var r=e.clear();r.onerror=At(t),r.onsuccess=et((function(){n(r.result)}))}))},update:function(n,t){if("object"!=typeof t||g(t))throw new un.InvalidArgument("Modifications must be an object.");if("object"!=typeof n||g(n))return this.where(":id").equals(n).modify(t);p(t).forEach((function(e){A(n,e,t[e])}));var e=D(n,this.schema.primKey.keyPath);return void 0===e?wt(new un.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t)}}),x(an.prototype,{_lock:function(){return E(!Mn.global),++this._reculock,1!==this._reculock||Mn.global||(Mn.lockOwnerFor=this),this},_unlock:function(){if(E(!Mn.global),0==--this._reculock)for(Mn.global||(Mn.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var n=this._blockedFuncs.shift();try{vt(n[1],n[0])}catch(t){}}return this},_locked:function(){return this._reculock&&Mn.lockOwnerFor!==this},create:function(n){var t=this;if(!this.mode)return this;if(E(!this.idbtrans),!n&&!_)switch(C&&C.name){case"DatabaseClosedError":throw new un.DatabaseClosed(C);case"MissingAPIError":throw new un.MissingAPI(C.message,C);default:throw new un.OpenFailed(C)}if(!this.active)throw new un.TransactionInactive;return E(null===this._completion._state),(n=this.idbtrans=n||_.transaction(Ht(this.storeNames),this.mode)).onerror=et((function(e){Mt(e),t._reject(n.error)})),n.onabort=et((function(e){Mt(e),t.active&&t._reject(new un.Abort(n.error)),t.active=!1,t.on("abort").fire(e)})),n.oncomplete=et((function(){t.active=!1,t._resolve()})),this},_promise:function(n,t,e){var r=this;if(n===q&&this.mode!==q)return wt(new un.ReadOnly("Transaction is readonly"));if(!this.active)return wt(new un.TransactionInactive);if(this._locked())return new Hn((function(l,o){r._blockedFuncs.push([function(){r._promise(n,t,e).then(l,o)},Mn])}));if(e)return st((function(){var n=new Hn((function(n,e){r._lock();var l=t(n,e,r);l&&l.then&&l.then(n,e)}));return n.finally((function(){return r._unlock()})),n._lib=!0,n}));var l=new Hn((function(n,e){var l=t(n,e,r);l&&l.then&&l.then(n,e)}));return l._lib=!0,l},_root:function(){return this.parent?this.parent._root():this},waitFor:function(n){var t=this._root();if(n=Hn.resolve(n),t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return n}));else{t._waitingFor=n,t._waitingQueue=[];var e=t.idbtrans.objectStore(t.storeNames[0]);!function n(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(e.get(-1/0).onsuccess=n)}()}var r=t._waitingFor;return new Hn((function(e,l){n.then((function(n){return t._waitingQueue.push(et(e.bind(null,n)))}),(function(n){return t._waitingQueue.push(et(l.bind(null,n)))})).finally((function(){t._waitingFor===r&&(t._waitingFor=null)}))}))},abort:function(){this.active&&this._reject(new un.Abort),this.active=!1},tables:{get:(o="Transaction.tables",i=function(){return k},function(){return console.warn(o+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+Q(Z(),1)),i.apply(this,arguments)})},table:function(n){return new tn(n,z.table(n).schema,this)}}),x(sn.prototype,(function(){function n(n,t,e){var r=n instanceof sn?new bn(n):n;return r._ctx.error=e?new e(t):new TypeError(t),r}function t(n){return new bn(n,(function(){return h.only("")})).limit(0)}function e(n,t,e,r,l,o){for(var i=Math.min(n.length,r.length),u=-1,a=0;a<i;++a){var s=t[a];if(s!==r[a])return l(n[a],e[a])<0?n.substr(0,a)+e[a]+e.substr(a+1):l(n[a],r[a])<0?n.substr(0,a)+r[a]+e.substr(a+1):u>=0?n.substr(0,u)+t[u]+e.substr(u+1):null;l(n[a],s)<0&&(u=a)}return i<r.length&&"next"===o?n+e.substr(n.length):i<n.length&&"prev"===o?n.substr(0,e.length):u<0?null:n.substr(0,u)+r[u]+e.substr(u+1)}function r(t,r,l,o){var i,u,a,s,c,f,b,d=l.length;if(!l.every((function(n){return"string"==typeof n})))return n(t,"String expected.");function p(n){i=function(n){return"next"===n?function(n){return n.toUpperCase()}:function(n){return n.toLowerCase()}}(n),u=function(n){return"next"===n?function(n){return n.toLowerCase()}:function(n){return n.toUpperCase()}}(n),a="next"===n?Pn:jn;var t=l.map((function(n){return{lower:u(n),upper:i(n)}})).sort((function(n,t){return a(n.lower,t.lower)}));s=t.map((function(n){return n.upper})),c=t.map((function(n){return n.lower})),f=n,b="next"===n?"":o}p("next");var g=new bn(t,(function(){return h.bound(s[0],c[d-1]+o)}));g._ondirectionchange=function(n){p(n)};var v=0;return g._addAlgorithm((function(n,t,l){var o=n.key;if("string"!=typeof o)return!1;var i=u(o);if(r(i,c,v))return!0;for(var h=null,p=v;p<d;++p){var g=e(o,i,s[p],c[p],a,f);null===g&&null===h?v=p+1:(null===h||a(h,g)>0)&&(h=g)}return t(null!==h?function(){n.continue(h+b)}:l),!1})),g}return{between:function(e,r,l,o){l=!1!==l,o=!0===o;try{return xn(e,r)>0||0===xn(e,r)&&(l||o)&&(!l||!o)?t(this):new bn(this,(function(){return h.bound(e,r,!l,!o)}))}catch(i){return n(this,It)}},equals:function(n){return new bn(this,(function(){return h.only(n)}))},above:function(n){return new bn(this,(function(){return h.lowerBound(n,!0)}))},aboveOrEqual:function(n){return new bn(this,(function(){return h.lowerBound(n)}))},below:function(n){return new bn(this,(function(){return h.upperBound(n,!0)}))},belowOrEqual:function(n){return new bn(this,(function(){return h.upperBound(n)}))},startsWith:function(t){return"string"!=typeof t?n(this,"String expected."):this.between(t,t+Bt,!0,!0)},startsWithIgnoreCase:function(n){return""===n?this.startsWith(n):r(this,(function(n,t){return 0===n.indexOf(t[0])}),[n],Bt)},equalsIgnoreCase:function(n){return r(this,(function(n,t){return n===t[0]}),[n],"")},anyOfIgnoreCase:function(){var n=V.apply(U,arguments);return 0===n.length?t(this):r(this,(function(n,t){return-1!==t.indexOf(n)}),n,"")},startsWithAnyOfIgnoreCase:function(){var n=V.apply(U,arguments);return 0===n.length?t(this):r(this,(function(n,t){return t.some((function(t){return 0===n.indexOf(t)}))}),n,Bt)},anyOf:function(){var e=V.apply(U,arguments),r=Bn;try{e.sort(r)}catch(i){return n(this,It)}if(0===e.length)return t(this);var l=new bn(this,(function(){return h.bound(e[0],e[e.length-1])}));l._ondirectionchange=function(n){e.sort(r="next"===n?Bn:Sn)};var o=0;return l._addAlgorithm((function(n,t,l){for(var i=n.key;r(i,e[o])>0;)if(++o===e.length)return t(l),!1;return 0===r(i,e[o])||(t((function(){n.continue(e[o])})),!1)})),l},notEqual:function(n){return this.inAnyRange([[-1/0,n],[n,Ct]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=V.apply(U,arguments);if(0===t.length)return new bn(this);try{t.sort(Bn)}catch(r){return n(this,It)}var e=t.reduce((function(n,t){return n?n.concat([[n[n.length-1][1],t]]):[[-1/0,t]]}),null);return e.push([t[t.length-1],Ct]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(e,r){if(0===e.length)return t(this);if(!e.every((function(n){return void 0!==n[0]&&void 0!==n[1]&&Bn(n[0],n[1])<=0})))return n(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",un.InvalidArgument);var l,o=!r||!1!==r.includeLowers,i=r&&!0===r.includeUppers,u=Bn;function a(n,t){return u(n[0],t[0])}try{(l=e.reduce((function(n,t){for(var e=0,r=n.length;e<r;++e){var l=n[e];if(xn(t[0],l[1])<0&&xn(t[1],l[0])>0){l[0]=xn(o=l[0],i=t[0])<0?o:i,l[1]=_n(l[1],t[1]);break}}var o,i;return e===r&&n.push(t),n}),[])).sort(a)}catch(p){return n(this,It)}var s=0,c=i?function(n){return Bn(n,l[s][1])>0}:function(n){return Bn(n,l[s][1])>=0},f=o?function(n){return Sn(n,l[s][0])>0}:function(n){return Sn(n,l[s][0])>=0},b=c,d=new bn(this,(function(){return h.bound(l[0][0],l[l.length-1][1],!o,!i)}));return d._ondirectionchange=function(n){"next"===n?(b=c,u=Bn):(b=f,u=Sn),l.sort(a)},d._addAlgorithm((function(n,t,e){for(var r=n.key;b(r);)if(++s===l.length)return t(e),!1;return!!function(n){return!c(n)&&!f(n)}(r)||0!==xn(r,l[s][1])&&0!==xn(r,l[s][0])&&(t((function(){n.continue(u===Bn?l[s][0]:l[s][1])})),!1)})),d},startsWithAnyOf:function(){var e=V.apply(U,arguments);return e.every((function(n){return"string"==typeof n}))?0===e.length?t(this):this.inAnyRange(e.map((function(n){return[n,n+Bt]}))):n(this,"startsWithAnyOf() only works with strings")}}})),x(bn.prototype,(function(){function n(n,t){n.filter=En(n.filter,t)}function t(n,t,e){var r=n.replayFilter;n.replayFilter=r?function(){return En(r(),t())}:t,n.justLimit=e&&!r}function e(n,t){if(n.isPrimKey)return t;var e=n.table.schema.idxByName[n.index];if(!e)throw new un.Schema("KeyPath "+n.index+" on object store "+t.name+" is not indexed");return t.index(e.name)}function r(n,t){var r=e(n,t);return n.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(n.range||null,n.dir+n.unique):r.openCursor(n.range||null,n.dir+n.unique)}function o(n,t,e,l,o){var i=n.replayFilter?En(n.filter,n.replayFilter()):n.filter;n.or?function(){var u={},a=0;function s(){2==++a&&e()}function c(n,e,r){if(!i||i(e,r,s,l)){var o=e.primaryKey,a=""+o;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(o)),w(u,a)||(u[a]=!0,t(n,e,r))}}n.or._iterate(c,s,l,o),wn(r(n,o),n.algorithm,c,s,l,!n.keysOnly&&n.valueMapper)}():wn(r(n,o),En(n.algorithm,i),t,e,l,!n.keysOnly&&n.valueMapper)}return{_read:function(n,t){var e=this._ctx;return e.error?e.table._trans(null,wt.bind(null,e.error)):e.table._idbstore("readonly",n).then(t)},_write:function(n){var t=this._ctx;return t.error?t.table._trans(null,wt.bind(null,t.error)):t.table._idbstore(q,n,"locked")},_addAlgorithm:function(n){var t=this._ctx;t.algorithm=En(t.algorithm,n)},_iterate:function(n,t,e,r){return o(this._ctx,n,t,e,r)},clone:function(n){var t=Object.create(this.constructor.prototype),e=Object.create(this._ctx);return n&&m(e,n),t._ctx=e,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(n){var t=this._ctx;return this._read((function(e,r,l){o(t,n,e,r,l)}))},count:function(n){var t=this._ctx;if(vn(t,!0))return this._read((function(n,r,l){var o=e(t,l),i=t.range?o.count(t.range):o.count();i.onerror=At(r),i.onsuccess=function(e){n(Math.min(e.target.result,t.limit))}}),n);var r=0;return this._read((function(n,e,l){o(t,(function(){return++r,!1}),(function(){n(r)}),e,l)}),n)},sortBy:function(n,t){var e=n.split(".").reverse(),r=e[0],l=e.length-1;function o(n,t){return t?o(n[e[t]],t-1):n[r]}var i="next"===this._ctx.dir?1:-1;function u(n,t){var e=o(n,l),r=o(t,l);return e<r?-i:e>r?i:0}return this.toArray((function(n){return n.sort(u)})).then(t)},toArray:function(n){var t=this._ctx;return this._read((function(n,r,i){if(l&&"next"===t.dir&&vn(t,!0)&&t.limit>0){var u=t.table.hook.reading.fire,a=e(t,i),s=t.limit<1/0?a.getAll(t.range,t.limit):a.getAll(t.range);s.onerror=At(r),s.onsuccess=Kt(u===fn?n:function(t){try{n(t.map(u))}catch(e){r(e)}})}else{var c=[];o(t,(function(n){c.push(n)}),(function(){n(c)}),r,i)}}),n)},offset:function(n){var e=this._ctx;return n<=0?this:(e.offset+=n,vn(e)?t(e,(function(){var t=n;return function(n,e){return 0===t||(1===t?(--t,!1):(e((function(){n.advance(t),t=0})),!1))}})):t(e,(function(){var t=n;return function(){return--t<0}})),this)},limit:function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),t(this._ctx,(function(){var t=n;return function(n,e,r){return--t<=0&&e(r),t>=0}}),!0),this},until:function(t,e){return n(this._ctx,(function(n,r,l){return!t(n.value)||(r(l),e)})),this},first:function(n){return this.limit(1).toArray((function(n){return n[0]})).then(n)},last:function(n){return this.reverse().first(n)},filter:function(t){return n(this._ctx,(function(n){return t(n.value)})),function(n,t){n.isMatch=En(n.isMatch,t)}(this._ctx,t),this},and:function(n){return this.filter(n)},or:function(n){return new sn(this._ctx.table,n,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(n){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,e){n(e.key,e)}))},eachUniqueKey:function(n){return this._ctx.unique="unique",this.eachKey(n)},eachPrimaryKey:function(n){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,e){n(e.primaryKey,e)}))},keys:function(n){var t=this._ctx;t.keysOnly=!t.isMatch;var e=[];return this.each((function(n,t){e.push(t.key)})).then((function(){return e})).then(n)},primaryKeys:function(n){var t=this._ctx;if(l&&"next"===t.dir&&vn(t,!0)&&t.limit>0)return this._read((function(n,r,l){var o=e(t,l),i=t.limit<1/0?o.getAllKeys(t.range,t.limit):o.getAllKeys(t.range);i.onerror=At(r),i.onsuccess=Kt(n)})).then(n);t.keysOnly=!t.isMatch;var r=[];return this.each((function(n,t){r.push(t.primaryKey)})).then((function(){return r})).then(n)},uniqueKeys:function(n){return this._ctx.unique="unique",this.keys(n)},firstKey:function(n){return this.limit(1).keys((function(n){return n[0]})).then(n)},lastKey:function(n){return this.reverse().firstKey(n)},distinct:function(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var r={};return n(this._ctx,(function(n){var t=n.primaryKey.toString(),e=w(r,t);return r[t]=!0,!e})),this},modify:function(n){var t=this,e=this._ctx.table.hook,r=e.updating.fire,l=e.deleting.fire;return this._write((function(e,o,i,u){var a;if("function"==typeof n)a=r===cn&&l===cn?n:function(t){var e=N(t);if(!1===n.call(this,t,this))return!1;if(w(this,"value")){var o=L(e,this.value),i=r.call(this,o,this.primKey,e,u);i&&(t=this.value,p(i).forEach((function(n){A(t,n,i[n])})))}else l.call(this,this.primKey,t,u)};else if(r===cn){var s=p(n),c=s.length;a=function(t){for(var e=!1,r=0;r<c;++r){var l=s[r],o=n[l];D(t,l)!==o&&(A(t,l,o),e=!0)}return e}}else{var f=n;n=K(f),a=function(t){var e=!1,l=r.call(this,n,this.primKey,N(t),u);return l&&m(n,l),p(n).forEach((function(r){var l=n[r];D(t,r)!==l&&(A(t,r,l),e=!0)})),l&&(n=K(f)),e}}var h=0,b=0,d=!1,g=[],v=[],y=null;function k(n){return n&&(g.push(n),v.push(y)),o(new en("Error modifying one or more objects",g,b,v))}function x(){d&&b+g.length===h&&(g.length>0?k():e(b))}t.clone().raw()._iterate((function(n,t){y=t.primaryKey;var e={primKey:t.primaryKey,value:n,onsuccess:null,onerror:null};function r(n){return g.push(n),v.push(e.primKey),x(),!0}if(!1!==a.call(e,n,e)){var l=!w(e,"value");++h,O((function(){var n=l?t.delete():t.update(e.value);n._hookCtx=e,n.onerror=qt(r),n.onsuccess=Dt((function(){++b,x()}))}),r)}else e.onsuccess&&e.onsuccess(e.value)}),(function(){d=!0,x()}),k,i)}))},delete:function(){var n=this,t=this._ctx,e=t.range,r=t.table.hook.deleting.fire,l=r!==cn;if(!l&&vn(t)&&(t.isPrimKey&&!Et||!e))return this._write((function(n,t,r){var l=At(t),o=e?r.count(e):r.count();o.onerror=l,o.onsuccess=function(){var i=o.result;O((function(){var t=e?r.delete(e):r.clear();t.onerror=l,t.onsuccess=function(){return n(i)}}),(function(n){return t(n)}))}}));var o=l?2e3:1e4;return this._write((function(e,i,u,a){var s=0,c=n.clone({keysOnly:!t.isMatch&&!l}).distinct().limit(o).raw(),f=[];e(function n(){return c.each(l?function(n,t){f.push([t.primaryKey,t.value])}:function(n,t){f.push(t.primaryKey)}).then((function(){return f.sort(l?function(n,t){return Bn(n[0],t[0])}:Bn),on(u,a,f,l,r)})).then((function(){var t=f.length;return s+=t,f=[],t<o?s:n()}))}())}))}}})),m(this,{Collection:bn,Table:tn,Transaction:an,Version:$,WhereClause:sn}),z.on("versionchange",(function(n){n.newVersion>0?console.warn("Another connection wants to upgrade database '"+z.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+z.name+"'. Closing db now to resume the delete request."),z.close()})),z.on("blocked",(function(n){!n.newVersion||n.newVersion<n.oldVersion?console.warn("Dexie.delete('"+z.name+"') was blocked"):console.warn("Upgrade '"+z.name+"' blocked by other connection holding version "+n.oldVersion/10)})),s.forEach((function(n){n(z)}))}function Ot(n,t){return p(t).forEach((function(e){var r=function n(t){if("function"==typeof t)return new t;if(g(t))return[n(t[0])];if(t&&"object"==typeof t){var e={};return Ot(e,t),e}return t}(t[e]);n[e]=r})),n}function Dt(n){return et((function(t){var e=t.target,r=e._hookCtx,l=r.value||e.result,o=r&&r.onsuccess;o&&o(l),n&&n(l)}),n)}function At(n){return et((function(t){return Mt(t),n(t.target.error),!1}))}function Kt(n){return et((function(t){n(t.target.result)}))}function qt(n){return et((function(t){var e=t.target,r=e.error,l=e._hookCtx,o=l&&l.onerror;return o&&o(r),Mt(t),n(r),!1}))}function Mt(n){n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()}function zt(n){var t=function(t){return n.next(t)},e=l(t),r=l((function(t){return n.throw(t)}));function l(n){return function(t){var l=n(t),o=l.value;return l.done?o:o&&"function"==typeof o.then?o.then(e,r):g(o)?Hn.all(o).then(e,r):e(o)}}return l(t)()}function Nt(n,t,e,r,l,o,i){this.name=n,this.keyPath=t,this.unique=e,this.multi=r,this.auto=l,this.compound=o,this.dotted=i;var u="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(e?"&":"")+(r?"*":"")+(l?"++":"")+u}function Lt(n,t,e,r){this.name=n,this.primKey=t||new Nt,this.indexes=e||[new Nt],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=T(e,(function(n){return[n.name,n]}))}function Ht(n){return 1===n.length?n[0]:n}function Rt(n){var t=n&&(n.getDatabaseNames||n.webkitGetDatabaseNames);return t&&t.bind(n)}G(J,Ft),x(Tt,sn),x(Tt,{delete:function(n){var t=new Tt(n),e=t.delete();return e.onblocked=function(n){return t.on("blocked",n),this},e},exists:function(n){return new Tt(n).open().then((function(n){return n.close(),!0})).catch(Tt.NoSuchDatabaseError,(function(){return!1}))},getDatabaseNames:function(n){var t=Rt(Tt.dependencies.indexedDB);return t?new Hn((function(n,e){var r=t();r.onsuccess=function(t){n(P(t.target.result,0))},r.onerror=At(e)})).then(n):_t.dbnames.toCollection().primaryKeys(n)},defineClass:function(){return function(n){n&&m(this,n)}},applyStructure:Ot,ignoreTransaction:function(n){return Mn.trans?vt(Mn.transless,n):n()},vip:function(n){return st((function(){return Mn.letThrough=!0,n()}))},async:function(n){return function(){try{var t=zt(n.apply(this,arguments));return t&&"function"==typeof t.then?t:Hn.resolve(t)}catch(e){return wt(e)}}},spawn:function(n,t,e){try{var r=zt(n.apply(e,t||[]));return r&&"function"==typeof r.then?r:Hn.resolve(r)}catch(l){return wt(l)}},currentTransaction:{get:function(){return Mn.trans||null}},waitFor:function(n,t){var e=Hn.resolve("function"==typeof n?Tt.ignoreTransaction(n):n).timeout(t||6e4);return Mn.trans?Mn.trans.waitFor(e):e},Promise:Hn,debug:{get:function(){return J},set:function(n){G(n,"dexie"===n?function(){return!0}:Ft)}},derive:C,extend:m,props:x,override:j,Events:xt,getByKeyPath:D,setByKeyPath:A,delByKeyPath:function(n,t){"string"==typeof t?A(n,t,void 0):"length"in t&&[].map.call(t,(function(t){A(n,t,void 0)}))},shallowClone:K,deepClone:N,getObjectDiff:L,asap:F,maxKey:Ct,minKey:-1/0,addons:[],connections:St,MultiModifyError:un.Modify,errnames:ln,IndexSpec:Nt,TableSchema:Lt,dependencies:function(){try{return{indexedDB:v.indexedDB||v.mozIndexedDB||v.webkitIndexedDB||v.msIndexedDB,IDBKeyRange:v.IDBKeyRange||v.webkitIDBKeyRange}}catch(n){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"{version}",version:"{version}".split(".").map((function(n){return parseInt(n)})).reduce((function(n,t,e){return n+t/Math.pow(10,2*e)})),default:Tt,Dexie:Tt}),Hn.rejectionMapper=function(n,t){if(!n||n instanceof tn||n instanceof TypeError||n instanceof SyntaxError||!n.name||!an[n.name])return n;var e=new an[n.name](t||n.message,n);return"stack"in n&&B(e,"stack",{get:function(){return this.inner.stack}}),e},(_t=new Tt("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==v.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach((function(n){return _t.dbnames.put({name:n}).catch(cn)})),localStorage.removeItem("Dexie.DatabaseNames"))}catch(n){}}();var Ut=Tt;let Vt=(()=>{class n extends Ut{constructor(){super("books"),this.version(1).stores({books:"++id, book_id, book_name, book_cover, current_page, mark",siteCfg:"page_bg, page_size"})}}return n.ngInjectableDef=r.Ob({factory:function(){return new n},token:n,providedIn:"root"}),n})(),Jt=(()=>{class n{constructor(n){this.dexieService=n,this.table=this.dexieService.table("books")}getAll(){return this.table.toArray()}add(n){return this.table.add(n)}update(n,t){return this.table.update(n,t)}remove(n){return this.table.delete(n)}getDetailByBookId(n){return this.table.where({book_id:n}).first()}saveBookInfo(n){this.getDetailByBookId(n.book_id).then(t=>{t.id?this.update(t.id,n):this.add(n)}).catch(t=>this.add(n))}}return n.ngInjectableDef=r.Ob({factory:function(){return new n(r.Pb(Vt))},token:n,providedIn:"root"}),n})();class Gt{constructor(n,t,e,r,l,o){this.bookService=n,this.titleService=t,this.metaService=e,this.route=r,this.bookFrontService=l,this.router=o,this.currentPage=1}ngOnInit(){let n=this.route.snapshot.params;this.listParam={page:n.page||1,bookType:n.bookType,tags:n.tags,type:n.type},this.getBookList(),this.metaService.updateTag({name:"description",content:"\u521b\u65b0\u9a7f\u8def-\u63d0\u4f9b\u6700\u65b0\u521b\u65b0\u65b9\u6cd5\uff0c\u521b\u65b0\u4e8b\u52a1"}),this.metaService.updateTag({name:"keywords",content:"\u521b\u65b0\u65b9\u6cd5,\u521b\u65b0\u9a7f\u7ad9,\u521b\u65b0\u9a7f\u8def,\u521b\u65b0\u4e8b\u4ef6,\u521b\u65b0,\u521b\u65b0\u7684\u4e8b\u60c5,\u521b\u65b0\u65b9\u6cd5\u8bba"})}loadData(n){if("reading"==this.route.snapshot.params.type)return n.target.disabled=!0,!1;this.currentPage+=1,this.listParam=Object.assign(this.listParam,{page:this.currentPage}),this.bookService.getBookList(this.listParam).subscribe(t=>{0!=t.length?(this.books=this.books.concat(t),n.target.complete()):n.target.disabled=!0})}getBookList(){let n=this;"reading"==this.route.snapshot.params.type?n.bookFrontService.getAll().then(t=>{n.books=[],t.forEach(t=>{let e=new c;e.name=t.book_name,e._id=t.book_id,e.cover=t.book_cover,n.books.push(e)})}):this.bookService.getBookList(this.listParam).subscribe(n=>{this.books=n})}}var Wt=e("cUpR"),$t=r.nb({encapsulation:0,styles:[["@media (max-width:768px){ion-card[_ngcontent-%COMP%]{margin:0}}ion-card-header[_ngcontent-%COMP%]{padding:10px}ion-card-subtitle[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]],data:{}});function Zt(n){return r.Kb(0,[(n()(),r.pb(0,0,null,null,12,"ion-col",[["size","4"],["sizeLg","2"],["sizeMd","3"]],null,null,null,i.U,i.j)),r.ob(1,49152,null,0,u.r,[r.h,r.k,r.x],{size:[0,"size"],sizeLg:[1,"sizeLg"],sizeMd:[2,"sizeMd"]},null),(n()(),r.pb(2,0,null,0,10,"ion-card",[],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==r.Bb(n,4).onClick()&&l),"click"===t&&(l=!1!==r.Bb(n,6).onClick(e)&&l),l}),i.T,i.e)),r.ob(3,49152,null,0,u.k,[r.h,r.k,r.x],null,null),r.ob(4,16384,null,0,a.n,[a.m,a.a,[8,null],r.B,r.k],{routerLink:[0,"routerLink"]},null),r.Cb(5,1),r.ob(6,737280,null,0,u.Fb,[s.h,u.Cb,r.k,a.m,[2,a.n]],null,null),(n()(),r.pb(7,0,null,0,0,"img",[["style","width: 100%"]],[[8,"src",4]],null,null,null,null)),(n()(),r.pb(8,0,null,0,4,"ion-card-header",[],null,null,null,i.Q,i.g)),r.ob(9,49152,null,0,u.m,[r.h,r.k,r.x],null,null),(n()(),r.pb(10,0,null,0,2,"ion-card-subtitle",[],null,null,null,i.R,i.h)),r.ob(11,49152,null,0,u.n,[r.h,r.k,r.x],null,null),(n()(),r.Ib(12,0,["",""]))],(function(n,t){n(t,1,0,"4","2","3");var e=n(t,5,0,"/books/summary/"+t.context.$implicit._id);n(t,4,0,e),n(t,6,0)}),(function(n,t){n(t,7,0,t.context.$implicit.cover||"../../assets/book_default.jpg"),n(t,12,0,t.context.$implicit.name)}))}function Qt(n){return r.Kb(0,[(n()(),r.pb(0,0,null,null,6,"ion-header",[],null,null,null,i.Z,i.o)),r.ob(1,49152,null,0,u.z,[r.h,r.k,r.x],null,null),(n()(),r.pb(2,0,null,0,4,"ion-toolbar",[],null,null,null,i.vb,i.K)),r.ob(3,49152,null,0,u.xb,[r.h,r.k,r.x],null,null),(n()(),r.pb(4,0,null,0,2,"ion-title",[],null,null,null,i.ub,i.J)),r.ob(5,49152,null,0,u.vb,[r.h,r.k,r.x],null,null),(n()(),r.Ib(-1,0,["\u4e66\u7c4d\u5217\u8868"])),(n()(),r.pb(7,0,null,null,11,"ion-content",[],null,null,null,i.V,i.k)),r.ob(8,49152,null,0,u.s,[r.h,r.k,r.x],null,null),(n()(),r.pb(9,0,null,0,5,"ion-grid",[],null,null,null,i.Y,i.n)),r.ob(10,49152,null,0,u.y,[r.h,r.k,r.x],null,null),(n()(),r.pb(11,0,null,0,3,"ion-row",[],null,null,null,i.nb,i.C)),r.ob(12,49152,null,0,u.eb,[r.h,r.k,r.x],null,null),(n()(),r.eb(16777216,null,0,1,null,Zt)),r.ob(14,278528,null,0,s.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(n()(),r.pb(15,0,null,0,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],(function(n,t,e){var r=!0;return"ionInfinite"===t&&(r=!1!==n.component.loadData(e)&&r),r}),i.cb,i.q)),r.ob(16,49152,null,0,u.C,[r.h,r.k,r.x],{threshold:[0,"threshold"]},null),(n()(),r.pb(17,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","Loading more data..."]],null,null,null,i.bb,i.r)),r.ob(18,49152,null,0,u.D,[r.h,r.k,r.x],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],(function(n,t){n(t,14,0,t.component.books),n(t,16,0,"100px"),n(t,18,0,"bubbles","Loading more data...")}),null)}var Yt=r.lb("app-books",Gt,(function(n){return r.Kb(0,[(n()(),r.pb(0,0,null,null,1,"app-books",[],null,null,null,Qt,$t)),r.ob(1,114688,null,0,Gt,[d,Wt.i,Wt.h,a.a,Jt,a.m],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[]),Xt=e("eIep");class ne{constructor(n,t,e,r,l,o){this.route=n,this.router=t,this.bookService=e,this.titleService=r,this.metaService=l,this.platformId=o}ngOnInit(){this.getBookById()}getBookById(){this.book$=this.route.paramMap.pipe(Object(Xt.a)(n=>this.bookService.getBookById(n.get("id")))),this.book$.subscribe(n=>{this.titleService.setTitle(n.name),this.metaService.updateTag({name:"description",content:n.name});let t=this.metaService.getTag('name= "keywords"')&&this.metaService.getTag('name= "keywords"').content||"\u521b\u65b0\u65b9\u6cd5,\u521b\u65b0\u9a7f\u7ad9,\u521b\u65b0\u9a7f\u8def,\u521b\u65b0\u4e8b\u4ef6,\u521b\u65b0,\u521b\u65b0\u7684\u4e8b\u60c5,\u521b\u65b0\u65b9\u6cd5\u8bba,";t+=n.tags.join(","),this.metaService.updateTag({name:"keywords",content:t})})}}var te=r.nb({encapsulation:0,styles:[["ion-content[_ngcontent-%COMP%]{font-family:FZLanTingHei-qianhei,FZLanTingHeiS-R-GB,Microsoft YaHei,verdana,arial,helvetica,sans-serif;font-size:14px;line-height:2rem}"]],data:{}});function ee(n){return r.Kb(0,[(n()(),r.pb(0,0,null,null,9,"ion-toolbar",[],null,null,null,i.vb,i.K)),r.ob(1,49152,null,0,u.xb,[r.h,r.k,r.x],null,null),(n()(),r.pb(2,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,i.O,i.d)),r.ob(3,49152,null,0,u.j,[r.h,r.k,r.x],null,null),(n()(),r.pb(4,0,null,0,2,"ion-back-button",[["defaultHref",""]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==r.Bb(n,6).onClick(e)&&l),l}),i.M,i.b)),r.ob(5,49152,null,0,u.e,[r.h,r.k,r.x],{defaultHref:[0,"defaultHref"]},null),r.ob(6,16384,null,0,u.f,[[2,u.db],u.Cb],{defaultHref:[0,"defaultHref"]},null),(n()(),r.pb(7,0,null,0,2,"ion-title",[],null,null,null,i.ub,i.J)),r.ob(8,49152,null,0,u.vb,[r.h,r.k,r.x],null,null),(n()(),r.Ib(9,0,["",""]))],(function(n,t){n(t,5,0,""),n(t,6,0,"")}),(function(n,t){n(t,9,0,t.context.ngIf.name)}))}function re(n){return r.Kb(0,[(n()(),r.pb(0,0,null,null,34,"ion-grid",[],null,null,null,i.Y,i.n)),r.ob(1,49152,null,0,u.y,[r.h,r.k,r.x],null,null),(n()(),r.pb(2,0,null,0,23,"ion-row",[],null,null,null,i.nb,i.C)),r.ob(3,49152,null,0,u.eb,[r.h,r.k,r.x],null,null),(n()(),r.pb(4,0,null,0,21,"ion-col",[],null,null,null,i.U,i.j)),r.ob(5,49152,null,0,u.r,[r.h,r.k,r.x],null,null),(n()(),r.pb(6,0,null,0,19,"ion-item",[],null,null,null,i.eb,i.t)),r.ob(7,49152,null,0,u.F,[r.h,r.k,r.x],null,null),(n()(),r.pb(8,0,null,0,2,"ion-thumbnail",[["slot","start"]],null,null,null,i.tb,i.I)),r.ob(9,49152,null,0,u.ub,[r.h,r.k,r.x],null,null),(n()(),r.pb(10,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),r.pb(11,0,null,0,14,"ion-label",[],null,null,null,i.fb,i.u)),r.ob(12,49152,null,0,u.L,[r.h,r.k,r.x],null,null),(n()(),r.pb(13,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),r.Ib(14,null,["",""])),(n()(),r.pb(15,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),r.Ib(16,null,["\u4f5c\u8005: ",""])),(n()(),r.pb(17,0,null,0,8,"p",[],null,null,null,null,null)),(n()(),r.pb(18,0,null,null,7,"ion-button",[],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==r.Bb(n,20).onClick()&&l),"click"===t&&(l=!1!==r.Bb(n,22).onClick(e)&&l),l}),i.N,i.c)),r.ob(19,49152,null,0,u.i,[r.h,r.k,r.x],null,null),r.ob(20,16384,null,0,a.n,[a.m,a.a,[8,null],r.B,r.k],{routerLink:[0,"routerLink"]},null),r.Cb(21,1),r.ob(22,737280,null,0,u.Fb,[s.h,u.Cb,r.k,a.m,[2,a.n]],null,null),(n()(),r.pb(23,0,null,0,1,"ion-icon",[["name","eye-outline"]],null,null,null,i.ab,i.p)),r.ob(24,49152,null,0,u.A,[r.h,r.k,r.x],{name:[0,"name"]},null),(n()(),r.Ib(-1,0,["\u9605\u8bfb "])),(n()(),r.pb(26,0,null,0,8,"ion-row",[],null,null,null,i.nb,i.C)),r.ob(27,49152,null,0,u.eb,[r.h,r.k,r.x],null,null),(n()(),r.pb(28,0,null,0,6,"ion-col",[],null,null,null,i.U,i.j)),r.ob(29,49152,null,0,u.r,[r.h,r.k,r.x],null,null),(n()(),r.pb(30,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),r.Ib(-1,null,[" \u6458\u8981 | \u8bc4\u8bba "])),(n()(),r.pb(32,0,null,0,2,"ion-text",[],null,null,null,i.rb,i.G)),r.ob(33,49152,null,0,u.sb,[r.h,r.k,r.x],null,null),(n()(),r.Ib(34,0,[" "," "]))],(function(n,t){var e=n(t,21,0,"/books/"+t.context.ngIf._id);n(t,20,0,e),n(t,22,0),n(t,24,0,"eye-outline")}),(function(n,t){n(t,10,0,t.context.ngIf.cover||"../../../assets/book_default.jpg"),n(t,14,0,t.context.ngIf.name),n(t,16,0,t.context.ngIf.author),n(t,34,0,t.context.ngIf.abstract)}))}function le(n){return r.Kb(0,[(n()(),r.pb(0,0,null,null,4,"ion-header",[],null,null,null,i.Z,i.o)),r.ob(1,49152,null,0,u.z,[r.h,r.k,r.x],null,null),(n()(),r.eb(16777216,null,0,2,null,ee)),r.ob(3,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),r.Db(131072,s.b,[r.h]),(n()(),r.pb(5,0,null,null,4,"ion-content",[],null,null,null,i.V,i.k)),r.ob(6,49152,null,0,u.s,[r.h,r.k,r.x],null,null),(n()(),r.eb(16777216,null,0,2,null,re)),r.ob(8,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),r.Db(131072,s.b,[r.h])],(function(n,t){var e=t.component;n(t,3,0,r.Jb(t,3,0,r.Bb(t,4).transform(e.book$))),n(t,8,0,r.Jb(t,8,0,r.Bb(t,9).transform(e.book$)))}),null)}var oe=r.lb("app-books-summary",ne,(function(n){return r.Kb(0,[(n()(),r.pb(0,0,null,null,1,"app-books-summary",[],null,null,null,le,te)),r.ob(1,114688,null,0,ne,[a.a,a.m,d,Wt.i,Wt.h,r.z],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[]),ie=e("s7LF"),ue=e("LRne"),ae=e("4DkL");class se{constructor(n,t,e,r,l){this.fb=n,this.bookService=t,this.router=e,this.route=r,this.cfgService=l,this.bookForm=this.fb.group({_id:[""],name:["",ie.m.required],content:["",ie.m.required],bookType:["\u5176\u4ed6",ie.m.required],tags:[[]],cover:[""],author:[""],abstract:["",ie.m.required]}),this.validateFlag=!1}ngOnInit(){this.getBookById(),this.getBookType(),this.getBookTag()}getBookType(){this.cfgService.getCfgList({key:"ARTICLE_TYPE"}).subscribe(n=>{this.bookTypes=JSON.parse(n[0].valu)})}getBookTag(){this.cfgService.getCfgList({key:"ARTICLE_TAG"}).subscribe(n=>{this.bookTags=JSON.parse(n[0].valu)})}onSubmit(){this.bookForm.value._id&&""!=this.bookForm.value._id?this.bookService.updateBook(this.bookForm.value,this.bookForm.value._id).subscribe(n=>{this.validateFlag=!0,this.router.navigate(["/books/".concat(n._id)])}):(delete this.bookForm.value._id,this.bookService.createBook(this.bookForm.value).subscribe(n=>{this.validateFlag=!0,this.router.navigate(["/books/".concat(n._id)])}))}getBookById(){let n=this.route.snapshot.paramMap.get("id");n&&this.bookService.getBookById(n).subscribe(n=>{this.bookForm.patchValue({_id:n._id,name:n.name,content:"\u5185\u5bb9\u4e0d\u5141\u8bb8\u66f4\u6539\uff0c\u66f4\u6539\u65e0\u6548",bookType:n.bookType,tags:n.tags,cover:n.cover,author:n.author,abstract:n.abstract})})}fileUpload(n){if(-1==n[0].name.indexOf(".txt"))return void alert("\u76ee\u524d\u53ea\u652f\u6301txt\u683c\u5f0f\u6587\u4ef6\uff0c\u5176\u4ed6\u683c\u5f0f\u656c\u8bf7\u671f\u5f85");let t=this,e=new FileReader;const r=new Blob(n,{type:"text/plain"});e.onload=function(){t.bookForm.patchValue({content:this.result}),""==t.bookForm.value.name&&t.bookForm.patchValue({name:n[0].name}),""==t.bookForm.value.abstract&&t.bookForm.patchValue({abstract:this.result.toString().substring(0,200)})},e.readAsText(r,"GB2312")}canDeactivate(){if(!this.bookForm.dirty||this.validateFlag)return!0;const n=window.confirm("\u60a8\u7684\u6570\u636e\u8fd8\u672a\u4fdd\u5b58\uff0c\u662f\u5426\u53d6\u6d88\u4fdd\u5b58?");return Object(ue.a)(n)}}var ce=r.nb({encapsulation:0,styles:[[""]],data:{}});function fe(n){return r.Kb(0,[(n()(),r.pb(0,0,null,null,2,"ion-select-option",[],null,null,null,i.ob,i.E)),r.ob(1,49152,null,0,u.jb,[r.h,r.k,r.x],{value:[0,"value"]},null),(n()(),r.Ib(2,0,["",""]))],(function(n,t){n(t,1,0,r.tb(1,"",t.context.$implicit,""))}),(function(n,t){n(t,2,0,t.context.$implicit)}))}function he(n){return r.Kb(0,[(n()(),r.pb(0,0,null,null,2,"ion-select-option",[],null,null,null,i.ob,i.E)),r.ob(1,49152,null,0,u.jb,[r.h,r.k,r.x],{value:[0,"value"]},null),(n()(),r.Ib(2,0,["",""]))],(function(n,t){n(t,1,0,r.tb(1,"",t.context.$implicit,""))}),(function(n,t){n(t,2,0,t.context.$implicit)}))}function be(n){return r.Kb(0,[(n()(),r.pb(0,0,null,null,11,"ion-header",[],null,null,null,i.Z,i.o)),r.ob(1,49152,null,0,u.z,[r.h,r.k,r.x],null,null),(n()(),r.pb(2,0,null,0,9,"ion-toolbar",[],null,null,null,i.vb,i.K)),r.ob(3,49152,null,0,u.xb,[r.h,r.k,r.x],null,null),(n()(),r.pb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,i.O,i.d)),r.ob(5,49152,null,0,u.j,[r.h,r.k,r.x],null,null),(n()(),r.pb(6,0,null,0,2,"ion-back-button",[["defaultHref",""]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==r.Bb(n,8).onClick(e)&&l),l}),i.M,i.b)),r.ob(7,49152,null,0,u.e,[r.h,r.k,r.x],{defaultHref:[0,"defaultHref"]},null),r.ob(8,16384,null,0,u.f,[[2,u.db],u.Cb],{defaultHref:[0,"defaultHref"]},null),(n()(),r.pb(9,0,null,0,2,"ion-title",[],null,null,null,i.ub,i.J)),r.ob(10,49152,null,0,u.vb,[r.h,r.k,r.x],null,null),(n()(),r.Ib(-1,0,["\u65b0\u589e\u4e66\u7c4d"])),(n()(),r.pb(12,0,null,null,119,"ion-content",[],null,null,null,i.V,i.k)),r.ob(13,49152,null,0,u.s,[r.h,r.k,r.x],null,null),(n()(),r.pb(14,0,null,0,111,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,t,e){var l=!0;return"submit"===t&&(l=!1!==r.Bb(n,16).onSubmit(e)&&l),"reset"===t&&(l=!1!==r.Bb(n,16).onReset()&&l),l}),null,null)),r.ob(15,16384,null,0,ie.q,[],null,null),r.ob(16,540672,null,0,ie.d,[[8,null],[8,null]],{form:[0,"form"]},null),r.Fb(2048,null,ie.a,null,[ie.d]),r.ob(18,16384,null,0,ie.j,[[4,ie.a]],null,null),(n()(),r.pb(19,0,null,null,13,"ion-item",[],null,null,null,i.eb,i.t)),r.ob(20,49152,null,0,u.F,[r.h,r.k,r.x],null,null),(n()(),r.pb(21,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.fb,i.u)),r.ob(22,49152,null,0,u.L,[r.h,r.k,r.x],{position:[0,"position"]},null),(n()(),r.Ib(-1,0,["\u4e66\u7c4d\u540d\u79f0*"])),(n()(),r.pb(24,0,null,0,8,"ion-input",[["formControlName","name"],["required","true"],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,t,e){var l=!0;return"ionBlur"===t&&(l=!1!==r.Bb(n,27)._handleBlurEvent(e.target)&&l),"ionChange"===t&&(l=!1!==r.Bb(n,27)._handleInputEvent(e.target)&&l),l}),i.db,i.s)),r.ob(25,16384,null,0,ie.l,[],{required:[0,"required"]},null),r.Fb(1024,null,ie.f,(function(n){return[n]}),[ie.l]),r.ob(27,16384,null,0,u.Hb,[r.k],null,null),r.Fb(1024,null,ie.g,(function(n){return[n]}),[u.Hb]),r.ob(29,671744,null,0,ie.c,[[3,ie.a],[6,ie.f],[8,null],[6,ie.g],[2,ie.p]],{name:[0,"name"]},null),r.Fb(2048,null,ie.h,null,[ie.c]),r.ob(31,16384,null,0,ie.i,[[4,ie.h]],null,null),r.ob(32,49152,null,0,u.E,[r.h,r.k,r.x],{required:[0,"required"],type:[1,"type"]},null),(n()(),r.pb(33,0,null,null,15,"ion-row",[],null,null,null,i.nb,i.C)),r.ob(34,49152,null,0,u.eb,[r.h,r.k,r.x],null,null),(n()(),r.pb(35,0,null,0,13,"ion-col",[],null,null,null,i.U,i.j)),r.ob(36,49152,null,0,u.r,[r.h,r.k,r.x],null,null),(n()(),r.pb(37,0,null,0,11,"ion-item",[],null,null,null,i.eb,i.t)),r.ob(38,49152,null,0,u.F,[r.h,r.k,r.x],null,null),(n()(),r.pb(39,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.fb,i.u)),r.ob(40,49152,null,0,u.L,[r.h,r.k,r.x],{position:[0,"position"]},null),(n()(),r.Ib(-1,0,["\u4e66\u7c4d\u4f5c\u8005"])),(n()(),r.pb(42,0,null,0,6,"ion-input",[["formControlName","author"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,t,e){var l=!0;return"ionBlur"===t&&(l=!1!==r.Bb(n,43)._handleBlurEvent(e.target)&&l),"ionChange"===t&&(l=!1!==r.Bb(n,43)._handleInputEvent(e.target)&&l),l}),i.db,i.s)),r.ob(43,16384,null,0,u.Hb,[r.k],null,null),r.Fb(1024,null,ie.g,(function(n){return[n]}),[u.Hb]),r.ob(45,671744,null,0,ie.c,[[3,ie.a],[8,null],[8,null],[6,ie.g],[2,ie.p]],{name:[0,"name"]},null),r.Fb(2048,null,ie.h,null,[ie.c]),r.ob(47,16384,null,0,ie.i,[[4,ie.h]],null,null),r.ob(48,49152,null,0,u.E,[r.h,r.k,r.x],{type:[0,"type"]},null),(n()(),r.pb(49,0,null,null,13,"ion-item",[],null,null,null,i.eb,i.t)),r.ob(50,49152,null,0,u.F,[r.h,r.k,r.x],null,null),(n()(),r.pb(51,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.fb,i.u)),r.ob(52,49152,null,0,u.L,[r.h,r.k,r.x],{position:[0,"position"]},null),(n()(),r.Ib(-1,0,["\u4e66\u7c4d\u4ecb\u7ecd*"])),(n()(),r.pb(54,0,null,0,8,"ion-textarea",[["formControlName","abstract"],["required","true"],["rows","5"],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,t,e){var l=!0;return"ionBlur"===t&&(l=!1!==r.Bb(n,57)._handleBlurEvent(e.target)&&l),"ionChange"===t&&(l=!1!==r.Bb(n,57)._handleInputEvent(e.target)&&l),l}),i.sb,i.H)),r.ob(55,16384,null,0,ie.l,[],{required:[0,"required"]},null),r.Fb(1024,null,ie.f,(function(n){return[n]}),[ie.l]),r.ob(57,16384,null,0,u.Hb,[r.k],null,null),r.Fb(1024,null,ie.g,(function(n){return[n]}),[u.Hb]),r.ob(59,671744,null,0,ie.c,[[3,ie.a],[6,ie.f],[8,null],[6,ie.g],[2,ie.p]],{name:[0,"name"]},null),r.Fb(2048,null,ie.h,null,[ie.c]),r.ob(61,16384,null,0,ie.i,[[4,ie.h]],null,null),r.ob(62,49152,null,0,u.tb,[r.h,r.k,r.x],{required:[0,"required"],rows:[1,"rows"]},null),(n()(),r.pb(63,0,null,null,33,"ion-row",[],null,null,null,i.nb,i.C)),r.ob(64,49152,null,0,u.eb,[r.h,r.k,r.x],null,null),(n()(),r.pb(65,0,null,0,15,"ion-col",[["size","6"]],null,null,null,i.U,i.j)),r.ob(66,49152,null,0,u.r,[r.h,r.k,r.x],{size:[0,"size"]},null),(n()(),r.pb(67,0,null,0,13,"ion-item",[],null,null,null,i.eb,i.t)),r.ob(68,49152,null,0,u.F,[r.h,r.k,r.x],null,null),(n()(),r.pb(69,0,null,0,2,"ion-label",[],null,null,null,i.fb,i.u)),r.ob(70,49152,null,0,u.L,[r.h,r.k,r.x],null,null),(n()(),r.Ib(-1,0,["\u4e66\u7c4d\u7c7b\u578b*"])),(n()(),r.pb(72,0,null,0,8,"ion-select",[["formControlName","bookType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,t,e){var l=!0;return"ionBlur"===t&&(l=!1!==r.Bb(n,73)._handleBlurEvent(e.target)&&l),"ionChange"===t&&(l=!1!==r.Bb(n,73)._handleChangeEvent(e.target)&&l),l}),i.pb,i.D)),r.ob(73,16384,null,0,u.Gb,[r.k],null,null),r.Fb(1024,null,ie.g,(function(n){return[n]}),[u.Gb]),r.ob(75,671744,null,0,ie.c,[[3,ie.a],[8,null],[8,null],[6,ie.g],[2,ie.p]],{name:[0,"name"]},null),r.Fb(2048,null,ie.h,null,[ie.c]),r.ob(77,16384,null,0,ie.i,[[4,ie.h]],null,null),r.ob(78,49152,null,0,u.ib,[r.h,r.k,r.x],null,null),(n()(),r.eb(16777216,null,0,1,null,fe)),r.ob(80,278528,null,0,s.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(n()(),r.pb(81,0,null,0,15,"ion-col",[["size","6"]],null,null,null,i.U,i.j)),r.ob(82,49152,null,0,u.r,[r.h,r.k,r.x],{size:[0,"size"]},null),(n()(),r.pb(83,0,null,0,13,"ion-item",[],null,null,null,i.eb,i.t)),r.ob(84,49152,null,0,u.F,[r.h,r.k,r.x],null,null),(n()(),r.pb(85,0,null,0,2,"ion-label",[],null,null,null,i.fb,i.u)),r.ob(86,49152,null,0,u.L,[r.h,r.k,r.x],null,null),(n()(),r.Ib(-1,0,["\u4e66\u7c4d\u7684\u6807\u7b7e"])),(n()(),r.pb(88,0,null,0,8,"ion-select",[["formControlName","tags"],["multiple","true"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,t,e){var l=!0;return"ionBlur"===t&&(l=!1!==r.Bb(n,89)._handleBlurEvent(e.target)&&l),"ionChange"===t&&(l=!1!==r.Bb(n,89)._handleChangeEvent(e.target)&&l),l}),i.pb,i.D)),r.ob(89,16384,null,0,u.Gb,[r.k],null,null),r.Fb(1024,null,ie.g,(function(n){return[n]}),[u.Gb]),r.ob(91,671744,null,0,ie.c,[[3,ie.a],[8,null],[8,null],[6,ie.g],[2,ie.p]],{name:[0,"name"]},null),r.Fb(2048,null,ie.h,null,[ie.c]),r.ob(93,16384,null,0,ie.i,[[4,ie.h]],null,null),r.ob(94,49152,null,0,u.ib,[r.h,r.k,r.x],{multiple:[0,"multiple"]},null),(n()(),r.eb(16777216,null,0,1,null,he)),r.ob(96,278528,null,0,s.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(n()(),r.pb(97,0,null,null,11,"ion-item",[],null,null,null,i.eb,i.t)),r.ob(98,49152,null,0,u.F,[r.h,r.k,r.x],null,null),(n()(),r.pb(99,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.fb,i.u)),r.ob(100,49152,null,0,u.L,[r.h,r.k,r.x],{position:[0,"position"]},null),(n()(),r.Ib(-1,0,["\u4e66\u7c4d\u5c01\u9762\u5730\u5740"])),(n()(),r.pb(102,0,null,0,6,"ion-input",[["formControlName","cover"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,t,e){var l=!0;return"ionBlur"===t&&(l=!1!==r.Bb(n,103)._handleBlurEvent(e.target)&&l),"ionChange"===t&&(l=!1!==r.Bb(n,103)._handleInputEvent(e.target)&&l),l}),i.db,i.s)),r.ob(103,16384,null,0,u.Hb,[r.k],null,null),r.Fb(1024,null,ie.g,(function(n){return[n]}),[u.Hb]),r.ob(105,671744,null,0,ie.c,[[3,ie.a],[8,null],[8,null],[6,ie.g],[2,ie.p]],{name:[0,"name"]},null),r.Fb(2048,null,ie.h,null,[ie.c]),r.ob(107,16384,null,0,ie.i,[[4,ie.h]],null,null),r.ob(108,49152,null,0,u.E,[r.h,r.k,r.x],{type:[0,"type"]},null),(n()(),r.pb(109,0,null,null,13,"ion-item",[],null,null,null,i.eb,i.t)),r.ob(110,49152,null,0,u.F,[r.h,r.k,r.x],null,null),(n()(),r.pb(111,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.fb,i.u)),r.ob(112,49152,null,0,u.L,[r.h,r.k,r.x],{position:[0,"position"]},null),(n()(),r.Ib(-1,0,["\u4e66\u7c4d\u5185\u5bb9*"])),(n()(),r.pb(114,0,null,0,8,"ion-textarea",[["formControlName","content"],["required","true"],["rows","10"],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,t,e){var l=!0;return"ionBlur"===t&&(l=!1!==r.Bb(n,117)._handleBlurEvent(e.target)&&l),"ionChange"===t&&(l=!1!==r.Bb(n,117)._handleInputEvent(e.target)&&l),l}),i.sb,i.H)),r.ob(115,16384,null,0,ie.l,[],{required:[0,"required"]},null),r.Fb(1024,null,ie.f,(function(n){return[n]}),[ie.l]),r.ob(117,16384,null,0,u.Hb,[r.k],null,null),r.Fb(1024,null,ie.g,(function(n){return[n]}),[u.Hb]),r.ob(119,671744,null,0,ie.c,[[3,ie.a],[6,ie.f],[8,null],[6,ie.g],[2,ie.p]],{name:[0,"name"]},null),r.Fb(2048,null,ie.h,null,[ie.c]),r.ob(121,16384,null,0,ie.i,[[4,ie.h]],null,null),r.ob(122,49152,null,0,u.tb,[r.h,r.k,r.x],{required:[0,"required"],rows:[1,"rows"]},null),(n()(),r.pb(123,0,null,null,2,"ion-button",[["class","padding"],["color","tertiary"],["expand","block"]],null,[[null,"click"]],(function(n,t,e){var r=!0;return"click"===t&&(r=!1!==n.component.onSubmit()&&r),r}),i.N,i.c)),r.ob(124,49152,null,0,u.i,[r.h,r.k,r.x],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"]},null),(n()(),r.Ib(-1,0,["\u63d0\u4ea4"])),(n()(),r.pb(126,0,null,0,5,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,i.X,i.l)),r.ob(127,49152,null,0,u.u,[r.h,r.k,r.x],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),r.pb(128,0,null,0,3,"ion-fab-button",[],null,null,null,i.W,i.m)),r.ob(129,49152,null,0,u.v,[r.h,r.k,r.x],null,null),(n()(),r.pb(130,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,i.ab,i.p)),r.ob(131,49152,null,0,u.A,[r.h,r.k,r.x],{name:[0,"name"]},null),(n()(),r.pb(132,0,null,null,1,"button",[["style","right:60px; bottom:60px;position: fixed; z-index: 9999"]],null,null,null,null,null)),(n()(),r.pb(133,0,null,null,0,"input",[["id","form_file"],["style","position: absolute;left: 0;top: 0;width: 56px;height: 56px;opacity: 0"],["type","file"]],null,[[null,"change"]],(function(n,t,e){var r=!0;return"change"===t&&(r=!1!==n.component.fileUpload(e.target.files)&&r),r}),null,null))],(function(n,t){var e=t.component;n(t,7,0,""),n(t,8,0,""),n(t,16,0,e.bookForm),n(t,22,0,"floating"),n(t,25,0,"true"),n(t,29,0,"name"),n(t,32,0,"true","text"),n(t,40,0,"floating"),n(t,45,0,"author"),n(t,48,0,"text"),n(t,52,0,"floating"),n(t,55,0,"true"),n(t,59,0,"abstract"),n(t,62,0,"true","5"),n(t,66,0,"6"),n(t,75,0,"bookType"),n(t,80,0,e.bookTypes),n(t,82,0,"6"),n(t,91,0,"tags"),n(t,94,0,"true"),n(t,96,0,e.bookTags),n(t,100,0,"floating"),n(t,105,0,"cover"),n(t,108,0,"text"),n(t,112,0,"floating"),n(t,115,0,"true"),n(t,119,0,"content"),n(t,122,0,"true","10"),n(t,124,0,"tertiary",!e.bookForm.valid,"block"),n(t,127,0,"end","bottom"),n(t,131,0,"add")}),(function(n,t){n(t,14,0,r.Bb(t,18).ngClassUntouched,r.Bb(t,18).ngClassTouched,r.Bb(t,18).ngClassPristine,r.Bb(t,18).ngClassDirty,r.Bb(t,18).ngClassValid,r.Bb(t,18).ngClassInvalid,r.Bb(t,18).ngClassPending),n(t,24,0,r.Bb(t,25).required?"":null,r.Bb(t,31).ngClassUntouched,r.Bb(t,31).ngClassTouched,r.Bb(t,31).ngClassPristine,r.Bb(t,31).ngClassDirty,r.Bb(t,31).ngClassValid,r.Bb(t,31).ngClassInvalid,r.Bb(t,31).ngClassPending),n(t,42,0,r.Bb(t,47).ngClassUntouched,r.Bb(t,47).ngClassTouched,r.Bb(t,47).ngClassPristine,r.Bb(t,47).ngClassDirty,r.Bb(t,47).ngClassValid,r.Bb(t,47).ngClassInvalid,r.Bb(t,47).ngClassPending),n(t,54,0,r.Bb(t,55).required?"":null,r.Bb(t,61).ngClassUntouched,r.Bb(t,61).ngClassTouched,r.Bb(t,61).ngClassPristine,r.Bb(t,61).ngClassDirty,r.Bb(t,61).ngClassValid,r.Bb(t,61).ngClassInvalid,r.Bb(t,61).ngClassPending),n(t,72,0,r.Bb(t,77).ngClassUntouched,r.Bb(t,77).ngClassTouched,r.Bb(t,77).ngClassPristine,r.Bb(t,77).ngClassDirty,r.Bb(t,77).ngClassValid,r.Bb(t,77).ngClassInvalid,r.Bb(t,77).ngClassPending),n(t,88,0,r.Bb(t,93).ngClassUntouched,r.Bb(t,93).ngClassTouched,r.Bb(t,93).ngClassPristine,r.Bb(t,93).ngClassDirty,r.Bb(t,93).ngClassValid,r.Bb(t,93).ngClassInvalid,r.Bb(t,93).ngClassPending),n(t,102,0,r.Bb(t,107).ngClassUntouched,r.Bb(t,107).ngClassTouched,r.Bb(t,107).ngClassPristine,r.Bb(t,107).ngClassDirty,r.Bb(t,107).ngClassValid,r.Bb(t,107).ngClassInvalid,r.Bb(t,107).ngClassPending),n(t,114,0,r.Bb(t,115).required?"":null,r.Bb(t,121).ngClassUntouched,r.Bb(t,121).ngClassTouched,r.Bb(t,121).ngClassPristine,r.Bb(t,121).ngClassDirty,r.Bb(t,121).ngClassValid,r.Bb(t,121).ngClassInvalid,r.Bb(t,121).ngClassPending)}))}var de=r.lb("app-books-form",se,(function(n){return r.Kb(0,[(n()(),r.pb(0,0,null,null,1,"app-books-form",[],null,null,null,be,ce)),r.ob(1,114688,null,0,se,[ie.b,d,a.m,a.a,ae.a],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[]);class pe{constructor(n,t,e,r,l,o,i){this.route=n,this.router=t,this.bookService=e,this.titleService=r,this.metaService=l,this.bookFrontService=o,this.platformId=i,this.currentPage=1,this.blogId=""}ngOnInit(){this.blogId=this.route.snapshot.params.id,this.bookFrontService.getDetailByBookId(this.blogId).then(n=>{this.currentPage=n.current_page}).finally(()=>this.getBookById())}getBookById(n=function(n){}){this.bookService.getBookContentById({id:this.blogId,page:this.currentPage}).subscribe(t=>{this.book=t,this.bookFrontService.saveBookInfo({book_id:t._id,book_name:t.name,book_cover:t.cover,current_page:this.currentPage}),this.titleService.setTitle(t.name),this.metaService.updateTag({name:"description",content:t.name});let e=this.metaService.getTag('name= "keywords"')&&this.metaService.getTag('name= "keywords"').content||"\u521b\u65b0\u65b9\u6cd5,\u521b\u65b0\u9a7f\u7ad9,\u521b\u65b0\u9a7f\u8def,\u521b\u65b0\u4e8b\u4ef6,\u521b\u65b0,\u521b\u65b0\u7684\u4e8b\u60c5,\u521b\u65b0\u65b9\u6cd5\u8bba,";e+=t.tags.join(","),this.metaService.updateTag({name:"keywords",content:e}),n(t)})}getPrePage(n){1!=this.currentPage&&(this.currentPage--,this.getBookById((function(t){n.target.complete()})))}getNextPage(n){this.currentPage++;let t=this;setTimeout((function(){t.book.content="",t.getBookById((function(t){n.target.complete(),""==t.content&&(n.target.disabled=!0),document.querySelector("ion-content").scrollToTop(500)}))}),1e3)}}var ge=r.nb({encapsulation:0,styles:[["ion-content[_ngcontent-%COMP%]{font-family:FZLanTingHei-qianhei,FZLanTingHeiS-R-GB,Microsoft YaHei,verdana,arial,helvetica,sans-serif;font-size:14px;line-height:2rem}ion-grid[_ngcontent-%COMP%]{background:#dce2f1}ion-text[_ngcontent-%COMP%]{white-space:pre-wrap}"]],data:{}});function ve(n){return r.Kb(0,[(n()(),r.pb(0,0,null,null,8,"ion-grid",[],null,null,null,i.Y,i.n)),r.ob(1,49152,null,0,u.y,[r.h,r.k,r.x],null,null),(n()(),r.pb(2,0,null,0,6,"ion-row",[],null,null,null,i.nb,i.C)),r.ob(3,49152,null,0,u.eb,[r.h,r.k,r.x],null,null),(n()(),r.pb(4,0,null,0,4,"ion-col",[],null,null,null,i.U,i.j)),r.ob(5,49152,null,0,u.r,[r.h,r.k,r.x],null,null),(n()(),r.pb(6,0,null,0,2,"ion-text",[],null,null,null,i.rb,i.G)),r.ob(7,49152,null,0,u.sb,[r.h,r.k,r.x],null,null),(n()(),r.Ib(8,0,[" "," "]))],null,(function(n,t){var e=t.component;n(t,8,0,e.book&&e.book.content)}))}function me(n){return r.Kb(0,[(n()(),r.pb(0,0,null,null,11,"ion-header",[],null,null,null,i.Z,i.o)),r.ob(1,49152,null,0,u.z,[r.h,r.k,r.x],null,null),(n()(),r.pb(2,0,null,0,9,"ion-toolbar",[],null,null,null,i.vb,i.K)),r.ob(3,49152,null,0,u.xb,[r.h,r.k,r.x],null,null),(n()(),r.pb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,i.O,i.d)),r.ob(5,49152,null,0,u.j,[r.h,r.k,r.x],null,null),(n()(),r.pb(6,0,null,0,2,"ion-back-button",[["defaultHref",""]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==r.Bb(n,8).onClick(e)&&l),l}),i.M,i.b)),r.ob(7,49152,null,0,u.e,[r.h,r.k,r.x],{defaultHref:[0,"defaultHref"]},null),r.ob(8,16384,null,0,u.f,[[2,u.db],u.Cb],{defaultHref:[0,"defaultHref"]},null),(n()(),r.pb(9,0,null,0,2,"ion-title",[],null,null,null,i.ub,i.J)),r.ob(10,49152,null,0,u.vb,[r.h,r.k,r.x],null,null),(n()(),r.Ib(11,0,["",""])),(n()(),r.pb(12,0,null,null,12,"ion-content",[],null,null,null,i.V,i.k)),r.ob(13,49152,null,0,u.s,[r.h,r.k,r.x],null,null),(n()(),r.pb(14,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(n,t,e){var r=!0;return"ionRefresh"===t&&(r=!1!==n.component.getPrePage(e)&&r),r}),i.mb,i.A)),r.ob(15,49152,null,0,u.Y,[r.h,r.k,r.x],null,null),(n()(),r.pb(16,0,null,0,1,"ion-refresher-content",[],null,null,null,i.lb,i.B)),r.ob(17,49152,null,0,u.Z,[r.h,r.k,r.x],null,null),(n()(),r.eb(16777216,null,0,1,null,ve)),r.ob(19,16384,null,0,s.j,[r.M,r.J],{ngIf:[0,"ngIf"]},null),(n()(),r.pb(20,0,null,0,0,"img",[["src","../../../assets/book_rent.jpg"],["style","width: 100%"]],null,null,null,null,null)),(n()(),r.pb(21,0,null,0,3,"ion-infinite-scroll",[["threshold","10px"]],null,[[null,"ionInfinite"]],(function(n,t,e){var r=!0;return"ionInfinite"===t&&(r=!1!==n.component.getNextPage(e)&&r),r}),i.cb,i.q)),r.ob(22,49152,null,0,u.C,[r.h,r.k,r.x],{threshold:[0,"threshold"]},null),(n()(),r.pb(23,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","Getting more content..."]],null,null,null,i.bb,i.r)),r.ob(24,49152,null,0,u.D,[r.h,r.k,r.x],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],(function(n,t){var e=t.component;n(t,7,0,""),n(t,8,0,""),n(t,19,0,e.book),n(t,22,0,"10px"),n(t,24,0,"bubbles","Getting more content...")}),(function(n,t){var e=t.component;n(t,11,0,e.book&&e.book.name)}))}var ye=r.lb("app-books-detail",pe,(function(n){return r.Kb(0,[(n()(),r.pb(0,0,null,null,1,"app-books-detail",[],null,null,null,me,ge)),r.ob(1,114688,null,0,pe,[a.a,a.m,d,Wt.i,Wt.h,Jt,r.z],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[]);class ke{}e.d(t,"BooksPageModuleNgFactory",(function(){return we}));var we=r.mb(l,[],(function(n){return r.yb([r.zb(512,r.j,r.X,[[8,[o.a,Yt,oe,de,ye]],[3,r.j],r.v]),r.zb(4608,s.l,s.k,[r.s,[2,s.r]]),r.zb(4608,ie.o,ie.o,[]),r.zb(4608,u.a,u.a,[r.x,r.g]),r.zb(4608,u.Bb,u.Bb,[u.a,r.j,r.p]),r.zb(4608,u.Eb,u.Eb,[u.a,r.j,r.p]),r.zb(4608,ie.b,ie.b,[]),r.zb(4608,f.a,f.a,[r.z,r.c,b.c,r.x,u.Ib]),r.zb(4608,d,d,[f.a]),r.zb(1073742336,s.c,s.c,[]),r.zb(1073742336,ie.n,ie.n,[]),r.zb(1073742336,ie.e,ie.e,[]),r.zb(1073742336,u.zb,u.zb,[]),r.zb(1073742336,ie.k,ie.k,[]),r.zb(1073742336,a.p,a.p,[[2,a.u],[2,a.m]]),r.zb(1073742336,ke,ke,[]),r.zb(1073742336,l,l,[]),r.zb(1024,a.k,(function(){return[[{path:"",component:Gt},{path:"summary/:id",component:ne},{path:"new",component:se},{path:"edit/:id",component:se},{path:":id",component:pe}]]}),[])])}))}}]);