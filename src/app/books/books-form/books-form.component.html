<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref=""></ion-back-button>
    </ion-buttons>
    <ion-title>新增书籍</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <form [formGroup]='bookForm'>
    <ion-item>
      <ion-label position="floating">书籍名称*</ion-label>
      <ion-input type="text" required=true formControlName='name'></ion-input>
    </ion-item>
    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label position="floating">书籍作者</ion-label>
          <ion-input type="text" formControlName='author'></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-item>
      <ion-label position="floating">书籍介绍*</ion-label>
      <ion-textarea type="text" required=true formControlName='abstract' rows=5></ion-textarea>
    </ion-item>
    <ion-row>
      <ion-col size="6">
        <ion-item>
          <ion-label>书籍类型*</ion-label>
          <ion-select formControlName='bookType'>
            <ion-select-option value="{{ type }}" *ngFor="let type of bookTypes">{{ type }}</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
      <ion-col size="6">
        <ion-item>
          <ion-label>书籍的标签</ion-label>
          <ion-select multiple="true" formControlName='tags'>
            <ion-select-option value="{{ tag }}" *ngFor="let tag of bookTags">{{ tag }}</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-item>
      <ion-label position="floating">书籍封面地址</ion-label>
      <ion-input type="text" formControlName='cover'></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating">书籍内容*</ion-label>
      <ion-textarea type="text" required=true formControlName='content' rows=10></ion-textarea>
    </ion-item>
    <ion-button color="tertiary" class="padding" expand="block" (click)="onSubmit()" [disabled]='!bookForm.valid'>提交</ion-button>
  </form>
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button>
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
<button  style="right:60px; bottom:60px;position: fixed; z-index: 9999">
  <input type="file" id="form_file" style="position: absolute;left: 0;top: 0;width: 56px;height: 56px;opacity: 0" (change)="fileUpload($event.target.files)">
</button>
